<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=5" />
  <title>Oradia - Oracle Vibratoire</title>
<link rel="canonical" href="https://oradia.fr/">
<link rel="alternate" hreflang="fr" href="https://oradia.fr/">
<link rel="alternate" hreflang="x-default" href="https://oradia.fr/">
<link rel="preconnect" href="https://i.ibb.co" crossorigin>
<link rel="preconnect" href="https://enzostvs-deepsite.hf.space" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
<link rel="dns-prefetch" href="//i.ibb.co">
<link rel="dns-prefetch" href="//enzostvs-deepsite.hf.space">

<!-- Open Graph -->


<meta property="og:locale" content="fr_FR">
<meta property="og:type" content="website">
<meta property="og:title" content="Oradia - Oracle Vibratoire">
<meta property="og:description" content="Oradia est un oracle vibratoire qui croise sagesses ancestrales et IA pour guider votre chemin intérieur. Tirages gratuits et tirages complets.">
<meta property="og:url" content="https://oradia.fr/">
<meta property="og:image" content="https://i.ibb.co/4wG0t61y/og-1200x630.jpg">
<meta property="og:site_name" content="Oradia">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Oradia - Oracle Vibratoire">
<meta name="twitter:description" content="Guidance vibratoire croisant sagesses ancestrales et IA.">
<meta name="twitter:image" content="https://i.ibb.co/4wG0t61y/og-1200x630.jpg">

<meta name="description" content="Oradia est un oracle vibratoire qui croise sagesses ancestrales et IA pour guider votre chemin intérieur. Tirages gratuits et tirages complets.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="icon" href="https://i.ibb.co/4wG0t61y/logo.png">
<link rel="preload" as="image" href="https://i.ibb.co/cKHs3GY5/logo2.png" fetchpriority="high">
<meta name="theme-color" content="#0a192f">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<meta property="og:locale:alternate" content="en_US">

<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="color-scheme" content="dark light">
<meta name="format-detection" content="telephone=no">

<meta property="og:image:width"  content="1200">
<meta property="og:image:height" content="630">
<link rel="preload" as="image"
      href="https://i.ibb.co/4wG0t61y/og-1200x630.jpg"
      imagesrcset="https://i.ibb.co/4wG0t61y/og-1200x630.jpg 1200w, https://i.ibb.co/XYZ/og-800x420.jpg 800w"
      imagesizes="(max-width: 768px) 100vw, 1200px">



<script>
  window.tailwind = {};
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          'night-blue': '#0a192f',
          'gold': '#d4af37',
          'light-gold': '#f5e7a1',
          'dark-blue': '#051428',
          'celtic-blue': '#1a365d'
        },
        fontFamily: {
          'cormorant': ['Cormorant Garamond', 'serif'],
          'poppins': ['Poppins', 'sans-serif']
        }
      }
    }
  };
</script>
<script src="https://cdn.tailwindcss.com"></script>

<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous" referrerpolicy="no-referrer">
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"Organization",
  "name":"Oradia",
  "url":"https://oradia.fr/",
  "logo":"https://i.ibb.co/4wG0t61y/logo.png",
  "sameAs":["https://www.instagram.com/oradia_oracle"]
}
</script>

<!-- WebSite JSON-LD ✅ uniquement du JSON -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"WebSite",
  "name":"Oradia - Oracle Vibratoire",
  "url":"https://oradia.fr/",
  "potentialAction":{
    "@type":"SearchAction",
    "target":"https://oradia.fr/?q={query}",
    "query-input":"required name=query"
  }
}
</script>

<!-- Vos utilitaires JS à part -->
<script>
function setBusy(el, busy){
  if(!el) return;
  el.setAttribute('aria-busy', busy ? 'true' : 'false');
}
function randInt(max){ // 0..max-1
  const arr = new Uint32Array(1);
  crypto.getRandomValues(arr);
  return Math.floor((arr[0] / 2**32) * max);
}

const pickOne = (arr) => arr[randInt(arr.length)];

</script>

<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          'night-blue': '#0a192f',
          'gold': '#d4af37',
          'light-gold': '#f5e7a1',
          'dark-blue': '#051428',
          'celtic-blue': '#1a365d'
        },
        fontFamily: {
          'cormorant': ['Cormorant Garamond', 'serif'],
          'poppins': ['Poppins', 'sans-serif']
        }
      }
    }
  }
</script>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>

/* Badges de forme Oradia */
.chip--triangle::before { content: "▲ "; }
.chip--cercle::before   { content: "◯ "; }

/* Carte Passerelle (petite signature visuelle) */
.chip--passerelle{
  border-style: dashed;
  opacity: .95;
}

/* Optionnel: teinter selon la forme (si tu veux) */
.polarity.is-triangle { filter: saturate(1.1); }
.polarity.is-cercle   { opacity: .95; }

    nav a[aria-current="page"]{
    text-decoration: underline;
    text-underline-offset: 4px;
    }

    :root{ --dore:#d4af37; --text:#e9e7df; --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.35); }

    body{ margin:0; font-family:'Poppins',sans-serif; background:#0a192f; color:#f5e7a1; overflow-x:hidden; }
    .header-bg{ background:rgba(5,20,40,.98); }
    .hero-bg{ background: radial-gradient(circle at center, rgba(26,54,93,.7) 0%, rgba(5,20,40,.9) 70%); background-size:cover; }

    .gold-gradient{
      background: linear-gradient(90deg, #d4af37, #f5e7a1, #d4af37);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      background-size:300% 300%; animation:gradient-shift 4s ease infinite;
    }
    @keyframes gradient-shift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .floating{ animation:floating 3s ease-in-out infinite }
    @keyframes floating{0%{transform:translateY(0)}50%{transform:translateY(-15px)}100%{transform:translateY(0)}}
    .animate-spin-slow{ animation: spin 12s linear infinite }
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    @keyframes orbit{0%{transform:rotate(0deg) translateX(100px) rotate(0deg)}100%{transform:rotate(360deg) translateX(100px) rotate(-360deg)}}
    .pulse{ animation:pulse 2s infinite }
    @keyframes pulse{
      0% { box-shadow:0 0 0 0 rgba(212,175,55,.4); transform:translate(-50%,-50%) scale(1) }
      50%{ box-shadow:0 0 0 10px rgba(212,175,55,.2); transform:translate(-50%,-50%) scale(1.05) }
      100%{ box-shadow:0 0 0 0 rgba(212,175,55,0); transform:translate(-50%,-50%) scale(1) }
    }
    
    @keyframes zoom {
      0% { transform: scale(0.8); opacity: 0.5; }
      50% { transform: scale(1.2); opacity: 0.8; }
      100% { transform: scale(0.8); opacity: 0.5; }
    }

    /* Plateau du tirage (5 cartes) */
    .board{ display:grid; grid-template-columns:repeat(5,1fr); gap:12px; place-items:center; }
    @media(max-width:860px){ .board{ grid-template-columns:1fr } }
@media (max-width: 860px){
  .board .pos-1,
  .board .pos-2,
  .board .pos-3,
  .board .pos-4,
  .board .pos-5{
    grid-area: auto !important; /* empile proprement en 1 colonne */
  }
}
    .pos-1{grid-area:1/1} .pos-2{grid-area:1/2} .pos-3{grid-area:1/3} .pos-4{grid-area:1/4} .pos-5{grid-area:1/5}

    .card{ width:min(280px,90vw); height:400px; perspective:1000px; transition:.3s transform }
    @media(max-width:400px){ .card{ height:360px } }
    .card:hover{ transform:translateY(-5px) }
    .card-inner{ position:relative; width:100%; height:100%; transform-style:preserve-3d; transition: transform 800ms cubic-bezier(.2,.65,.2,1), box-shadow .3s; border-radius:var(--radius); box-shadow:var(--shadow) }
    .card.flipped .card-inner{ transform:rotateY(180deg) }
    .face{ position:absolute; inset:0; backface-visibility:hidden; border-radius:var(--radius); overflow:hidden; border:1px solid rgba(212,175,55,.45) }
    .back{ display:grid; place-items:center; background: radial-gradient(800px 500px at 50% 40%, rgba(212,175,55,.10), transparent 60%), linear-gradient(135deg, #0b1d3a, #08152c); cursor:pointer }
    .logo-circle{ width:140px;height:140px;border-radius:50%; border:6px solid var(--dore); display:grid;place-items:center; position:relative }
    .logo-circle::after{ content:"ORADIA"; color:var(--dore); font-weight:700; letter-spacing:1px }
    .front{ transform:rotateY(180deg); background: radial-gradient(900px 600px at 30% -10%, rgba(212,175,55,.15), transparent 60%), linear-gradient(165deg, #0c1f40, #0b1d3a 45%, #0a1833 100%); display:flex; flex-direction:column }
    .front .topbar{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:12px 14px; border-bottom:1px solid rgba(212,175,55,.25) }
    .chip{ font-size:.78rem; padding:6px 10px; border-radius:999px; border:1px solid rgba(212,175,55,.45); color:#d4af37; background:rgba(18,20,32,.45) }
    .polarity{ font-size:1.2rem; line-height:1; color:#d4af37 }
    .art{ flex:1; margin:14px; border-radius:14px; border:1px solid rgba(212,175,55,.25); display:grid; place-items:center; text-align:center; padding:16px }
    .art h3{ margin:0 0 8px; color:#d4af37; font-size:1.25rem }
    .bottom{ padding:10px 14px 12px; display:flex; align-items:center; justify-content:space-between; border-top:1px solid rgba(212,175,55,.2); font-size:.88rem }

    .btn-gold{ background:linear-gradient(135deg,#d4af37,#b8860b); color:#051428; font-weight:600; border-radius:8px; padding:12px 24px; transition:.3s; display:inline-block; text-align:center }
    .btn-gold:hover{ transform:translateY(-3px); box-shadow:0 10px 20px rgba(212,175,55,.3) }
    .btn-outline-gold{ background:transparent; color:#d4af37; border:2px solid #d4af37; border-radius:8px; padding:10px 20px; transition:.3s; display:inline-block }
    .btn-outline-gold:hover{ background:rgba(212,175,55,.1); transform:translateY(-3px) }

   .scroll-top{ position:fixed; bottom:30px; right:30px; z-index:1002; opacity:0; transition:opacity .3s }
   .scroll-top.show{ opacity:1 }

    .result-lines{ padding:12px; border-radius:12px; background:rgba(11,29,58,.6); border:1px solid rgba(212,175,55,.2) }
    .hide-sections { display: none !important; }

/* --- Traversée : plateau en croix 5 cartes --- */
.traversee-board-5{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr));
  grid-template-rows:repeat(3, auto);
  gap:16px;
  place-items:center;
}
.traversee-board-5 .nord   { grid-area: 1 / 2; }
.traversee-board-5 .sud    { grid-area: 3 / 2; }
.traversee-board-5 .ouest  { grid-area: 2 / 1; }
.traversee-board-5 .est    { grid-area: 2 / 3; }
.traversee-board-5 .centre { grid-area: 2 / 2; }

.traversee-card .traversee-card-back,
.traversee-card .traversee-card-front{
  min-height: 16rem;
}

@media(max-width:860px){
  .traversee-board-5{
    grid-template-columns:1fr; grid-template-rows:auto;
  }
  .traversee-board-5 .nord,.traversee-board-5 .sud,.traversee-board-5 .ouest,
  .traversee-board-5 .est,.traversee-board-5 .centre{ grid-area:auto; }
}

/* --- Immersif Traversée --- */
.hide-immersive { display:none !important; }

#exitTraverseeBtn{
  position:fixed; top:18px; left:18px; z-index:1000;
  background:linear-gradient(135deg,#d4af37,#b8860b);
  color:#051428; font-weight:600; border-radius:999px; 
  padding:10px 16px; border:1px solid rgba(212,175,55,.6);
  box-shadow:0 10px 20px rgba(212,175,55,.25);
}
#exitTraverseeBtn.hidden{ display:none; }

/* === MOBILE & TABLET POLISH === */
/* Images fluides partout */
img { max-width: 100%; height: auto; }

/* Cartes du tirage du Pèlerin : ratio flexible sur mobile */
@media (max-width: 480px){
  .card{
    width: 92vw;
    height: auto;           /* on enlève la hauteur figée */
    aspect-ratio: 7 / 10;   /* ratio carte */
  }
  .card-inner{ height: 100%; }
}

/* PÈLERIN : éviter les débordements des citations */
.card .front .quote,
.card .front [data-quote]{
  overflow-wrap: anywhere; /* casse même les longs mots / URLs */
  word-break: break-word;  /* fallback vieux navigateurs */
  hyphens: auto;           /* ajoute des césures si possible */
  line-height: 1.35;
}

/* Cartes de la Traversée : assure une bonne hauteur et wrap du texte */
.traversee-card .traversee-card-front .art{
  display: grid;
  place-items: center;
  text-align: center;
  padding: 0.5rem 0.75rem;
}
.traversee-card [data-quote]{
  word-wrap: break-word;
  overflow-wrap: anywhere;
}

/* Grille Traversée : micro-ajustements tablettes */
@media (max-width: 1024px){
  .traversee-board-5{
    gap: 12px;
  }
}

/* Évite l’overflow horizontal sur petits écrans */
html, body { overflow-x: hidden; }

/* Bouton “scroll to top” : remonte un peu sur mobiles pour éviter le notch */
@media (max-width: 480px){
  .scroll-top{ right: 16px; bottom: 16px; }
}

/* Boutons : surface de clic confortable */
button, .btn-gold, .btn-outline-gold, a.btn-gold, a.btn-outline-gold{
  min-height: 44px;
}

/* Modales : éviter que le contenu déborde en hauteur */
#orderModal .max-w-md,
#subscriptionModal .max-w-md,
#loginModal .max-w-md{
  max-height: 90vh;
  overflow-y: auto;
}

/* Respecte “réduire les animations” si l’utilisateur l’a choisi */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}
/* Focus visible clavier */
:focus-visible { outline: 3px solid var(--dore); outline-offset: 2px; }
.traversee-card-back:focus-visible,
.card .back:focus-visible,
.btn-gold:focus-visible,
.btn-outline-gold:focus-visible { box-shadow: 0 0 0 4px rgba(212,175,55,.35); }

/* Désactive les effets hover sur écrans tactiles */
@media (hover: none) {
  .card:hover { transform: none; }
  .btn-gold:hover, .btn-outline-gold:hover { transform: none; box-shadow: none; }
}

/* Contraste : doré plus lisible pour le texte long */
:root{ --gold-aa: #e6c766; }
.text-gold { color: var(--gold-aa) !important; } /* conserve #d4af37 pour bordures/déco */

/* Bouton disabled accessible */
[aria-disabled="true"], button:disabled {
  opacity: .6; cursor: not-allowed;
}

/* Hauteur viewport fiable mobile (iOS/Android) */
.min-h-100dvh { min-height: 100dvh; }
  </style>
</head>

<body class="relative">
<a href="#accueil" class="sr-only focus:not-sr-only focus:fixed top-2 left-2 bg-night-blue text-gold p-2 rounded z-[1001]">
  Aller au contenu
</a>

<button id="exitTraverseeBtn" class="hidden" aria-label="Quitter le tirage de la Traversée">
  Quitter le tirage de la Traversée
</button>

  <!-- Scroll to top button -->
  <button id="scrollTop" class="scroll-top bg-night-blue text-gold p-3 rounded-full border border-gold shadow-lg" aria-label="Remonter en haut">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Header -->
<header class="header-bg w-full py-3 px-4 md:py-4 md:px-8">
  <div class="flex items-center justify-between">
    <div class="flex items-center">

<img src="https://i.ibb.co/4wG0t61y/logo.png" alt="Oradia Logo"
     width="256" height="256" loading="eager" decoding="async"
     class="w-16 h-16 mr-6" />

      <span class="cormorant text-3xl font-bold gold-gradient">ORADIA</span>
    </div>

    <!-- Bouton burger (mobile) -->
   <button id="mobileMenuBtn" class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg border border-gold text-gold"
        aria-label="Ouvrir le menu" aria-controls="mobileMenu" aria-expanded="false">
      <i class="fas fa-bars text-lg"></i>
    </button>

    <!-- Nav desktop -->
    <nav class="hidden md:flex space-x-6 text-lg">
      <a href="#accueil" aria-current="page" class="text-gold hover:text-light-gold transition font-medium"><i class="fas fa-home mr-2"></i>Accueil</a>
      <a href="#oracle" class="text-gold hover:text-light-gold transition font-medium"><i class="fas fa-layer-group mr-2"></i>Oracle</a>
      <a href="#offres" class="text-gold hover:text-light-gold transition font-medium"><i class="fas fa-tags mr-2"></i>Offres</a>
      <a href="#oracle-cartes" class="text-gold hover:text-light-gold transition font-medium"><i class="fas fa-dice mr-2"></i>Jeu</a>
      <a href="#edolgor" class="text-gold hover:text-light-gold transition font-medium"><i class="fas fa-handshake mr-2"></i>Partenariat</a>
      <a href="#apropos" class="text-gold hover:text-light-gold transition font-medium"><i class="fas fa-info-circle mr-2"></i>À Propos</a>
    </nav>

    <button id="loginBtn" class="btn-outline-gold hidden md:inline-block">Connexion</button>
  </div>

  <!-- Menu mobile déroulant -->
  <nav id="mobileMenu" class="md:hidden hidden mt-3 space-y-2">
    <a href="#accueil" class="block px-3 py-2 rounded-lg border border-gold/30 text-gold hover:bg-gold/10"><i class="fas fa-home mr-2"></i>Accueil</a>
    <a href="#oracle" class="block px-3 py-2 rounded-lg border border-gold/30 text-gold hover:bg-gold/10"><i class="fas fa-layer-group mr-2"></i>Oracle</a>
    <a href="#offres" class="block px-3 py-2 rounded-lg border border-gold/30 text-gold hover:bg-gold/10"><i class="fas fa-tags mr-2"></i>Offres</a>
    <a href="#oracle-cartes" class="block px-3 py-2 rounded-lg border border-gold/30 text-gold hover:bg-gold/10"><i class="fas fa-dice mr-2"></i>Jeu</a>
    <a href="#edolgor" class="block px-3 py-2 rounded-lg border border-gold/30 text-gold hover:bg-gold/10"><i class="fas fa-handshake mr-2"></i>Partenariat</a>
    <a href="#apropos" class="block px-3 py-2 rounded-lg border border-gold/30 text-gold hover:bg-gold/10"><i class="fas fa-info-circle mr-2"></i>À Propos</a>
    <button id="loginBtnMobile" class="w-full btn-outline-gold">Connexion</button>
  </nav>
</header>

  <!-- Hero -->
  <section id="accueil" class="hero-bg min-h-100dvh flex items-center pt-20 pb-32 px-6">
    <div class="container mx-auto max-w-6xl">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div class="text-center lg:text-left">
          <h1 class="cormorant text-5xl md:text-6xl lg:text-7xl font-bold mb-6">
            <span class="block gold-gradient">Découvrez Votre</span>
            <span class="block mt-2">Chemin Vibratoire</span>
          </h1>
          <p class="text-xl text-light-gold mb-8 max-w-2xl">
            L'oracle Oradia croise les sagesses ancestrales (Yi Jing, ennéagramme, astrologie, etc.) et les outils modernes pour vous guider comme une boussole.
          </p>
                <p class="text-light-gold max-w-3xl mx-auto">
                    Il utilise l'IA comme un outil puissant afin de croiser les informations et vous fournir une guidance incroyablement pertinente.
                         </p>
                         <p class="text-light-gold max-w-3xl mx-auto">
                         </p>
                         <p class="text-xl text-light-gold mb-8 max-w-2xl">
                                            </p>
          <div class="flex flex-wrap justify-center lg:justify-start gap-4">
            <a href="#oracle" class="btn-gold">Tirer les cartes</a>
            <a href="#offres" class="btn-outline-gold">Découvrir les offres</a>
          </div>
        </div>

        <!-- Visuel -->
        <div class="flex justify-center">
          <div class="relative w-80 h-80 lg:w-96 lg:h-96">
            <div class="absolute inset-0 rounded-full border border-gold/20 animate-[spin_60s_linear_infinite]">
              <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 rounded-full bg-gold/50 shadow-lg animate-[orbit_12s_linear_infinite] origin-[50%_200px]"></div>
              <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-light-gold/70 shadow-lg animate-[orbit_8s_linear_infinite] origin-[50%_180px]"></div>
              <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-gold/30 shadow-lg animate-[orbit_20s_linear_infinite] origin-[50%_220px]"></div>
            </div>
            <div class="absolute inset-0 bg-gradient-to-br from-night-blue to-dark-blue rounded-full shadow-2xl flex items-center justify-center floating">
              <div class="bg-gradient-to-br from-gold to-light-gold w-64 h-64 rounded-full flex items-center justify-center pulse">
                <div class="bg-night-blue w-56 h-56 rounded-full flex items-center justify-center relative">
                  <div class="absolute w-1 h-16 bg-gold rounded-full origin-bottom" style="transform: rotate(45deg);"></div>
                  <div class="absolute w-1 h-16 bg-light-gold rounded-full origin-bottom" style="transform: rotate(-45deg);"></div>
  <img src="https://i.ibb.co/cKHs3GY5/logo2.png" alt="Oradia Compass"
     width="512" height="512" loading="eager" fetchpriority="high" decoding="async"
     class="w-full h-full object-center object-contain rounded-full border-2 border-gold animate-spin-slow">
                  <div class="absolute inset-0 flex flex-col items-center justify-center">
                    <span class="cormorant text-2xl text-gold">Oradia</span>
                    <p class="text-light-gold mt-2">Oracle Vibratoire</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="absolute -top-6 -left-6 w-32 h-32 rounded-full border-4 border-gold opacity-30"></div>
            <div class="absolute -bottom-6 -right-6 w-32 h-32 rounded-full border-4 border-gold opacity-30"></div>
          </div>
        </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tirage du Pèlerin -->
  <section id="oracle" class="py-12 md:py-20 px-4 md:px-6">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-10">
        <h2 class="cormorant text-4xl md:text-5xl font-bold mb-4 gold-gradient">Tirage du Pèlerin</h2>
        <p class="text-light-gold max-w-3xl mx-auto">Guidance vibratoire croisant plusieurs systèmes.</p>
      </div>

      <!-- Recueil de l'intention pour le tirage-->
      <div class="bg-[rgba(18,20,32,.6)] border border-[rgba(212,175,55,.25)] rounded-2xl p-5 mb-6">
  <div class="flex flex-col sm:flex-row sm:items-center gap-3">
    <label for="intention" class="text-gold font-semibold mb-1 sm:mb-0 sm:min-w-40">
      Votre intention :
    </label>

    <input id="intention" type="text"
      autocomplete="off" autocapitalize="sentences" inputmode="text" spellcheck="true"
      aria-describedby="intentionHelp"
      class="w-full sm:flex-1 min-w-0 bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] rounded-lg p-3 text-light-gold"
      placeholder="Ex. : Comment orienter ma journée avec justesse ?" required />
  </div>

  <p id="intentionHelp" class="text-sm opacity-80 mt-2">
    Formulez une question ouverte et terminez par « ? »
  </p>

  <div class="mt-3 text-center">
    <button id="startReading" class="btn-gold" disabled aria-disabled="true">Commencer le tirage</button>
  </div>
</div>


      <!-- Instructions du tirage -->
      <p id="cardsInstruction" class="text-light-gold max-w-3xl mx-auto text-center mb-4 hidden">
        Retournez les 4 cartes (Émotions, Besoins, Actions, Mémoire Cosmos)
      </p>

      <!-- Plateau (caché au départ) -->
      <section class="board hidden" id="board" aria-live="polite" aria-labelledby="boardTitle">
  <h3 id="boardTitle" class="sr-only">Plateau du tirage du Pèlerin</h3>
        <!-- ÉMOTIONS -->
        <article class="card pos-1" data-family="emotions" aria-label="Carte Émotions">
          <div class="card-inner">
            <div class="face back" role="button" tabindex="0" aria-pressed="false" aria-label="Retourner la carte Émotions">
              <div class="logo-circle" aria-hidden="true"></div>
            </div>
            <div class="face front">
              <div class="topbar">
                <span class="chip"><i class="fas fa-heart mr-1"></i> ÉMOTIONS</span>
                <span class="polarity" data-polarity></span>
              </div>
              <div class="art"><div><h3 data-name>—</h3><div class="quote" data-quote>—</div></div></div>
              <div class="bottom"></div>
            </div>
          </div>
        </article>

        <!-- BESOINS -->
        <article class="card pos-2" data-family="besoins" aria-label="Carte Besoins">
          <div class="card-inner">
            <div class="face back" role="button" tabindex="0" aria-pressed="false" aria-label="Retourner la carte Besoins">
              <div class="logo-circle" aria-hidden="true"></div>
            </div>
            <div class="face front">
              <div class="topbar">
                <span class="chip"><i class="fas fa-hands-holding-heart mr-1"></i>BESOINS</span>
                <span class="polarity" data-polarity></span>
              </div>
              <div class="art"><div><h3 data-name>—</h3><div class="quote" data-quote>—</div></div></div>
              <div class="bottom"><span data-icon></span></div>
            </div>
          </div>
        </article>

        <!-- MÉMOIRE COSMOS -->
        <article class="card pos-3" data-family="cosmos" aria-label="Carte Mémoire Cosmos">
          <div class="card-inner">
            <div class="face back" role="button" tabindex="0" aria-pressed="false" aria-label="Retourner la carte Mémoire Cosmos">
              <div class="logo-circle" aria-hidden="true"></div>
            </div>
            <div class="face front">
              <div class="topbar">
                <span class="chip"><i class="fas fa-star mr-1"></i> Mémoire Cosmos</span>
                <span class="polarity" data-polarity style="visibility:hidden"></span>
              </div>
              <div class="art"><div><h3 data-name>—</h3><div class="quote" data-quote>—</div></div></div>
              <div class="bottom"><span data-icon></span></div>
            </div>
          </div>
        </article>

        <!-- ACTIONS -->
        <article class="card pos-4" data-family="actions" aria-label="Carte Actions">
          <div class="card-inner">
            <div class="face back" role="button" tabindex="0" aria-pressed="false" aria-label="Retourner la carte Actions">
              <div class="logo-circle" aria-hidden="true"></div>
            </div>
            <div class="face front">
              <div class="topbar">
                <span class="chip"><i class="fas fa-walking mr-1"></i> ACTIONS</span>
                <span class="polarity" data-polarity></span>
              </div>
              <div class="art"><div><h3 data-name>—</h3><div class="quote" data-quote>—</div></div></div>
              <div class="bottom"><span data-icon></span></div>
            </div>
          </div>
        </article>

      </section>

      <div class="text-center mt-4">
  <button id="showResults" class="btn-gold hidden" disabled aria-disabled="true">Afficher le résultat du tirage</button>
      </div>

<section id="results" class="hidden mt-6" aria-live="polite" aria-atomic="true" aria-busy="false">

        <h2 class="cormorant text-3xl text-gold mb-3">Résultats du tirage</h2>
        <div class="mb-2"><b>Intention :</b> <span id="out-intention">—</span></div>
        <div class="result-lines" id="lines"></div>
        <div class="mt-3" id="synthese"></div>
      </section>

      <div class="flex gap-3 justify-center mt-6">
        <button id="reset" class="btn-outline-gold hidden">Nouveau tirage</button>
        <button id="fullReading" class="btn-outline-gold hidden">Tirage Complet</button>
      </div>
    </div>
  </section>

  <!-- Offres -->
  <section id="offres" class="py-20 px-6 bg-dark-blue">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="cormorant text-4xl md:text-5xl font-bold mb-4 gold-gradient">Nos Offres & Tarifs</h2>
        <p class="text-light-gold max-w-3xl mx-auto">Choisissez l'offre qui résonne avec votre cheminement.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Gratuit -->
        <div class="rounded-2xl p-8 relative overflow-hidden flex flex-col h-full" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
          <!-- Animation des flux temporels -->
          <div class="absolute inset-0 z-0 opacity-50 pointer-events-none">
            <!-- Ligne du temps centrale -->
            <div class="absolute top-0 bottom-0 left-1/2 w-1 bg-gradient-to-b from-gold/30 via-gold/50 to-gold/30 -translate-x-1/2"></div>
            <!-- Cercles temporels -->
            <div class="absolute top-1/3 left-1/2 w-16 h-16 rounded-full border-2 border-gold/30 animate-[pulse_4s_ease-in-out_infinite] -translate-x-1/2 -translate-y-1/2"></div>
            <div class="absolute top-1/2 left-1/2 w-20 h-20 rounded-full border-2 border-gold/50 animate-[pulse_3s_ease-in-out_infinite] -translate-x-1/2 -translate-y-1/2"></div>
            <div class="absolute top-2/3 left-1/2 w-16 h-16 rounded-full border-2 border-gold/30 animate-[pulse_5s_ease-in-out_infinite] -translate-x-1/2 -translate-y-1/2"></div>
            <!-- Connexions entre les temps -->
            <div class="absolute top-1/3 left-1/2 w-1 h-[16.666%] bg-gradient-to-b from-gold/20 to-transparent -translate-x-1/2"></div>
            <div class="absolute top-1/2 left-1/2 w-1 h-[16.666%] bg-gradient-to-t from-gold/20 to-transparent -translate-x-1/2"></div>
          </div>

          <div class="relative z-10 text-center mb-6">
            <h3 class="cormorant text-2xl text-gold mb-2">Tirage du pèlerin</h3>
            <div class="text-4xl font-bold text-light-gold">Gratuit</div>
          </div>

          <h4 class="cormorant text-xl text-gold mb-2 text-center">Passé / Présent / Futur</h4>
          <ul class="space-y-3 mb-8 relative z-10">
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>3 cartes + 1 carte Mémoires Cosmos</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Interprétation synthétique</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Analyse croisée basique par l'IA</span></li>
            <li class="flex items-start"><i class="fas fa-times-circle text-gray-500 mt-1 mr-3"></i><span class="text-gray-400">Cartes mutantes</span></li>
            <li class="flex items-start"><i class="fas fa-times-circle text-gray-500 mt-1 mr-3"></i><span class="text-gray-400">Espace membre</span></li>
            <li class="flex items-start"><i class="fas fa-times-circle text-gray-500 mt-1 mr-3"></i><span class="text-gray-400">Analyse approfondie</span></li>
          </ul>

          <a href="#oracle" class="btn-outline-gold w-full text-center relative z-10 mt-auto">Commencer le tirage</a>
        </div>

        <!-- Tirage complet -->
        <div class="rounded-2xl p-8 relative overflow-hidden border-2 border-gold flex flex-col h-full" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9))">
          <div class="absolute top-0 right-0 bg-gold text-night-blue px-4 py-1 rounded-bl-lg rounded-tr-2xl font-bold z-10">Populaire</div>

          <!-- Boussole mystique animation -->
          <div class="absolute inset-0 z-0 opacity-60 pointer-events-none">
            <div class="absolute top-1/2 left-1/2 w-64 h-64 -translate-x-1/2 -translate-y-1/2">
              <!-- Cercle extérieur -->
              <div class="absolute inset-0 rounded-full border border-gold/30 animate-[spin_30s_linear_infinite]"></div>
              <!-- Aiguilles -->
              <div class="absolute top-1/2 left-1/2 w-1 h-16 bg-gold -translate-x-1/2 -translate-y-1/2 origin-bottom animate-[pulse_3s_ease-in-out_infinite]" style="transform: rotate(45deg);"></div>
              <div class="absolute top-1/2 left-1/2 w-1 h-16 bg-light-gold -translate-x-1/2 -translate-y-1/2 origin-bottom animate-[pulse_3s_ease-in-out_infinite]" style="transform: rotate(-45deg);"></div>
              <!-- Points cardinaux -->
              <div class="absolute top-2 left-1/2 -translate-x-1/2 text-xs text-gold">N</div>
              <div class="absolute bottom-2 left-1/2 -translate-x-1/2 text-xs text-gold">S</div>
              <div class="absolute top-1/2 left-2 -translate-y-1/2 text-xs text-gold">O</div>
              <div class="absolute top-1/2 right-2 -translate-y-1/2 text-xs text-gold">E</div>
              <!-- Particules en orbite -->
              <div class="absolute top-0 left-1/2 w-2 h-2 rounded-full bg-gold/50 -translate-x-1/2 -translate-y-1/2 animate-[orbit_8s_linear_infinite] origin-[50%_128px]"></div>
              <div class="absolute top-0 left-1/2 w-3 h-3 rounded-full bg-light-gold/40 -translate-x-1/2 -translate-y-1/2 animate-[orbit_12s_linear_infinite] origin-[50%_150px]"></div>
            </div>
          </div>

          <div class="relative z-10 text-center mb-6">
            <h3 class="cormorant text-2xl text-gold mb-2">Tirages de la traversée</h3>
            <div class="text-4xl font-bold text-light-gold">5€</div>
            <h4 class="cormorant text-xl text-gold">Accès à 5 tirages complets</h4>
          </div>

          <ul class="space-y-3 mb-8 relative z-10">
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>4 cartes vibratoires</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>1 carte Mémoires Cosmos</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Cartes mutantes incluses</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Analyse croisée par l'IA complète et détaillée</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Synthèse vibratoire personnalisée</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Mantra et question d'introspection</span></li>
            <li class="flex items-start"><i class="fas fa-times-circle text-gray-500 mt-1 mr-3"></i><span class="text-gray-400">Espace membre</span></li>
            <li class="flex items-start"><i class="fas fa-times-circle text-gray-500 mt-1 mr-3"></i><span class="text-gray-400">1 tirage complet quotidien par mail</span></li>
          </ul>

          <a href="#" id="orderBtn" role="button" aria-label="Commander 5 Tirages" class="btn-gold w-full text-center block relative z-10 mt-auto">Commander</a>
        </div>

        <!-- Abonnement -->
        <div class="rounded-2xl p-8 relative overflow-hidden flex flex-col h-full" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
          <!-- Animation champ magnétique (tore) -->
          <div class="absolute inset-0 z-0 opacity-50 pointer-events-none">
            <div class="absolute top-1/2 left-1/2 w-64 h-64 -translate-x-1/2 -translate-y-1/2">
              <!-- Anneaux -->
              <div class="absolute inset-0 rounded-full border-2 border-gold/30 animate-[spin_30s_linear_infinite]"></div>
              <div class="absolute inset-0 rounded-full border-2 border-gold/20 animate-[spin_25s_linear_infinite_reverse] rotate-45"></div>
              <!-- Lignes de champ -->
              <div class="absolute top-1/2 left-1/2 w-1 h-32 bg-gradient-to-b from-gold/30 to-transparent -translate-x-1/2 -translate-y-1/2 origin-bottom animate-[pulse_4s_ease-in-out_infinite]"></div>
              <div class="absolute top-1/2 left-1/2 w-1 h-32 bg-gradient-to-t from-gold/30 to-transparent -translate-x-1/2 -translate-y-1/2 origin-top animate-[pulse_5s_ease-in-out_infinite]"></div>
              <!-- Particules -->
              <div class="absolute top-0 left-1/2 w-2 h-2 rounded-full bg-gold/40 -translate-x-1/2 -translate-y-1/2 animate-[orbit_8s_linear_infinite] origin-[50%_150px]"></div>
              <div class="absolute top-0 left-1/2 w-3 h-3 rounded-full bg-light-gold/30 -translate-x-1/2 -translate-y-1/2 animate-[orbit_12s_linear_infinite] origin-[50%_140px]"></div>
            </div>
          </div>

          <div class="relative z-10 text-center mb-6">
            <h3 class="cormorant text-2xl text-gold mb-2">Tirage du Tore</h3>
            <div class="text-4xl font-bold text-light-gold">8€ <span class="text-lg">/mois</span></div>
          </div>

          <ul class="space-y-3 mb-8 relative z-10">
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>1 tirage complet quotidien par mail avec votre intention</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Cartes mutantes incluses</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Synthèse vibratoire personnalisée</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Mantra et question du jour</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Espace membre (profils ennéagramme, astro, numérologie...)</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Accès à l'archive des 10 derniers tirages</span></li>
            <li class="flex items-start"><i class="fas fa-check-circle text-gold mt-1 mr-3"></i><span>Participation à l’amélioration de l’oracle (expérience anonyme)</span></li>
          </ul>

          <a href="#" id="subscribeBtn" role="button" aria-label="S'abonner au Tirage du Tore" class="btn-gold w-full text-center block relative z-10 mt-auto">S'abonner</a>

        </div>
      </div>
    </div>
  </section>

 
  <!-- Oracle de cartes -->
  <section id="oracle-cartes" class="py-20 px-6 bg-dark-blue">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="cormorant text-4xl md:text-5xl font-bold mb-4 gold-gradient">Oracle de Cartes Oradia</h2>
        <p class="text-light-gold max-w-3xl mx-auto">Découvrez notre oracle en version physique</p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <div class="rounded-2xl p-8 mb-8" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
            <h3 class="cormorant text-2xl text-gold mb-4">Version Physique en Développement</h3>
            <p class="text-light-gold mb-4">
              Une version physique de 64 cartes de l'oracle Oradia est en cours de développement. Vous y retrouverez les 3 types de tirage (tirage du Pèlerin, tirage de La traversée, tirage du Tore) ainsi qu'un livret d'accompagnement illustré. Un partenariat avec une illustratrice est en cours afin de vous proposer une expérience au graphisme unique.
            </p>
            <p class="text-light-gold mb-6">
              Cette version sera idéale pour des ateliers, cercles de partage ou usage personnel. 
            </p>
            <h4 class="cormorant text-xl text-gold mb-3">Vous avez hâte n'est-ce pas?</h4>
            <p class="text-light-gold mb-4">
              Vous pouvez contribuer à votre hauteur au financement, vous receverez le jeu en avant-première lorsqu’il sera disponible.
            </p>
            <div class="text-center">
            <a href="..." target="_blank" rel="noopener noreferrer" class="btn-gold inline-block">Faire un don</a>
            </div>
          </div>
        </div>

        <div class="flex justify-center">
          <div class="rounded-2xl p-4" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
        <img src="https://i.ibb.co/FTDGc0k/Capture-d-cran-2025-08-09-090137.png" alt="Aperçu du jeu" width="1024" height="576" loading="lazy" decoding="async" fetchpriority="low"/>
            <p class="text-light-gold text-center mt-4 italic">Aperçu du jeu de cartes en développement</p>
          </div>
        </div>
      </div>
    </div>
  </section>

 <!-- À propos -->
  <section id="apropos" class="py-20 px-6">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="cormorant text-4xl md:text-5xl font-bold mb-4 gold-gradient">À Propos d'Oradia</h2>
        <p class="text-light-gold max-w-3xl mx-auto">Découvrez l'essence et la mission de l'oracle Oradia</p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <div class="rounded-2xl p-8 mb-8" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
            <h3 class="cormorant text-2xl text-gold mb-4">Oradia - La boussole du pèlerin</h3>
            <section class="text-light-gold leading-relaxed">
             <p>Oradia n’est pas un oracle de prédiction.</p>
<h4 class="cormorant text-xl text-gold mb-3">C’est une boussole pour le voyage intérieur.</h4>
              <p>Ses cartes forment un univers vivant :<br>
                les Émotions qui traversent,<br>
                les Besoins qui appellent,<br>
                les Transmutations qui transforment,<br>
                les Archétypes qui guident,<br>
                les Révélations qui éclairent,<br>
                et les Actions qui incarnent.
              </p>
              <p>Chaque tirage est une traversée.<br>
                Le présent dialogue avec le passé,<br>
                ouvre l’avenir et révèle ton axe profond.
              </p>
              <p>Oradia est l’invitation à marcher en conscience,<br>
                là où chaque pas devient créateur,<br>
                et chaque signe, une étoile sur ton chemin.
              </p>
            </section>
          </div>

          <div class="rounded-2xl p-8" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
            <h3 class="cormorant text-2xl text-gold mb-4">Une Approche Éthique</h3>
            <p class="text-light-gold mb-4">
              Oradia s'engage dans une démarche écologique et respectueuse du Vivant. Hébergeur éthique, IA raisonnée, outils open-source, souveraineté du développement…
            </p>
            <p class="text-light-gold">
              Pour tout achat sur le site, 1% est reversé à une association œuvrant en faveur du vivant.
            </p>
          </div>
        </div>

        <div class="flex justify-center">
          <div class="relative">
            <div class="bg-gradient-to-br from-gold/10 to-night-blue border border-gold/30 rounded-2xl w-full h-96"></div>
            <div class="absolute -bottom-6 -right-6 w-64 h-64 bg-gradient-to-tr from-gold/5 to-transparent border border-gold/20 rounded-2xl">
             <img src="https://i.ibb.co/TB75673d/logo.png"
     alt="logo Oradia" width="512" height="512"
     loading="lazy" decoding="async" fetchpriority="low"
     class="w-full h-full object-contain p-4">

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Partenariats / OTRE / Edolg'Or -->
  <section id="edolgor" class="py-20 px-6 bg-dark-blue">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="cormorant text-4xl md:text-5xl font-bold mb-4 gold-gradient">Nos partenariats</h2>
        <p class="text-light-gold max-w-3xl mx-auto">
          Découvrez notre engagement pour un modèle de société innovant et des projets fidèles à nos convictions
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div class="flex justify-center">
          <div class="relative">
            <div class="bg-gradient-to-br from-gold/10 to-night-blue border border-gold/30 rounded-2xl w-full h-96"></div>
            <div class="absolute -top-6 -left-6 w-64 h-64 bg-gradient-to-tr from-gold/5 to-transparent border border-gold/20 rounded-2xl">
<img src="https://i.ibb.co/354MSMtd/Logo-SCIC.png"
     alt="Logo SCIC" width="512" height="512"
     loading="lazy" decoding="async" fetchpriority="low"
     class="w-full h-full object-contain p-3">
            </div>
          </div>
        </div>

        <div>
          <!-- Le Projet OTRE -->
          <div class="rounded-2xl p-8 mb-8" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
            <h3 class="cormorant text-2xl text-gold mb-4">Le Projet OTRE</h3>
            <p class="text-light-gold">
              En route vers un nouveau modèle de société innovant appelé OTRE (Organisation Torique et Régénérative des Êtres), issu de 12 années de recherche empirique.
              Ce modèle propose une transition sociétale vivante, ludique, inclusive et régénérative, fondée sur l'équilibre des forces,
              l'intelligence collective et la souveraineté individuelle. Basé sur la géométrie du tore (présente dans la nature, la pomme,
              le champ magnétique terrestre…), il propose une constellation de solutions pour répondre aux problématiques actuelles.
            </p>
          </div>

          <!-- Edolg'Or -->
          <div class="rounded-2xl p-8" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
            <h3 class="cormorant text-2xl text-gold mb-4">Edolg'Or, notre Contribution</h3>
            <p class="text-light-gold">
              Edolg'Or est une association qui vise à favoriser la création, le développement et l’entretien des liens sociaux et culturels
              par des activités ludiques, artistiques et d’arts vivants à travers un jeu sérieux grandeur nature.
              Objectif : découvrir la civilisation d'Edolg'OR et l'emplacement de sa cité d'or vivant, au rythme du modèle OTRE.
              Lors de votre achat pour un tirage complet ou un abonnement, vous pouvez reverser 1€ à l'association.
            </p>
            <p class="text-light-gold">
              Les activités proposées créent des espaces d'expression et de reconnexion essentiels.
            </p>
            <a href="https://fr.tipeee.com/mjr-wellor" target="_blank" rel="noopener noreferrer" class="btn-outline-gold mt-6 inline-block">Découvrir Edolg'Or</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CGV -->
  <section id="cgv" class="py-20 px-6 bg-night-blue">
    <div class="container mx-auto max-w-6xl">
      <h2 class="cormorant text-4xl md:text-5xl font-bold mb-8 gold-gradient">Conditions générales de vente (CGV)</h2>
      <div class="rounded-2xl p-8" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
        <p><strong>Editeur du site :</strong> Oradia, micro-entreprise immatriculée sous le n° [SIRET], dont le siège est situé [adresse]. Contact : [adresse e-mail / tél].</p>
        <p><strong>Objet :</strong> Le site oradia.fr propose des prestations d'oracle/tarot en ligne : un tirage complet vendu à l'unité et un abonnement mensuel donnant droit à un tirage quotidien.</p>
        <p><strong>Prix et paiement :</strong> 5 € donnant accès à 5 tirages complets et 8 €/mois pour l'abonnement quotidien. Les paiements sont sécurisés et gérés par Stripe. La validation de la commande implique l'acceptation des présentes CGV.</p>
        <p><strong>Commande et accès :</strong> Une fois le paiement validé, le tirage est réalisé dans les 48 h et un e-mail récapitulatif est envoyé. L'abonnement est résiliable à tout moment.</p>
        <p><strong>Droit de rétractation :</strong> Conformément à l'article L221-28 du Code de la consommation, aucun droit de rétractation n'est possible pour les services pleinement exécutés avant la fin du délai de 14 jours. Toutefois, une garantie "satisfait ou remboursé 7 jours" est accordée sur l'abonnement.</p>
        <p><strong>Protection des données :</strong> Les données collectées (e-mail, date de naissance, etc.) sont stockées chez Brevo et ne sont pas cédées. Vous disposez d'un droit d'accès, de rectification et de suppression sur simple demande.</p>
        <p><strong>Cookies :</strong> Le site utilise des cookies techniques et ceux de Stripe/Brevo pour le bon fonctionnement. Un bandeau de consentement est affiché.</p>
        <p><strong>Droit applicable :</strong> Les présentes conditions sont soumises au droit français.</p>
      </div>
    </div>
  </section>

  <!-- Tirage de la Traversée - caché jusqu'à paiement -->
  <section id="traversee" class="py-20 px-6 bg-night-blue hidden">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="cormorant text-4xl md:text-5xl font-bold mb-4 gold-gradient">Tirage de la Traversée</h2>
        <p class="text-light-gold max-w-3xl mx-auto">Guidance vibratoire approfondie pour votre cheminement</p>
      </div>

      <div class="rounded-2xl p-8 mb-8 relative overflow-hidden" style="background:linear-gradient(145deg, rgba(26,54,93,.8), rgba(5,20,40,.9)); border:1px solid rgba(212,175,55,.3)">
        <!-- Animation tunnel avec marcheur -->
        <div class="absolute inset-0 z-0 opacity-30 pointer-events-none overflow-hidden">
          <!-- Tunnel perspective -->
          <div class="absolute inset-0 bg-gradient-to-b from-night-blue to-dark-blue">
            <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,transparent_0%,rgba(212,175,55,0.1)_70%)] animate-[pulse_4s_ease-in-out_infinite]"></div>
          </div>
          
          <!-- Lignes de perspective du tunnel -->
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="w-full h-full relative">
              <div class="absolute top-1/2 left-1/2 w-[200%] h-[200%] bg-[conic-gradient(from_0deg_at_50%_50%,transparent_0deg,transparent_60deg,rgba(212,175,55,0.05)_60deg,rgba(212,175,55,0.05)_120deg,transparent_120deg,transparent_180deg,rgba(212,175,55,0.05)_180deg,transparent_240deg,rgba(212,175,55,0.05)_240deg,transparent_300deg,transparent_360deg)] bg-[length:100%_100%] animate-[spin_30s_linear_infinite] origin-center"></div>
            </div>
          </div>
          
          <!-- Lumière au bout du tunnel -->
          <div class="absolute top-1/2 left-1/2 w-64 h-64 -translate-x-1/2 -translate-y-1/2">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(245,231,161,0.8)_0%,rgba(212,175,55,0.4)_30%,transparent_70%)] animate-[pulse_3s_ease-in-out_infinite] rounded-full"></div>
          </div>
          
          <!-- Silhouette du marcheur -->
          <div class="absolute bottom-[15%] left-1/2 w-12 h-24 md:w-16 md:h-32 -translate-x-1/2 animate-[walking_8s_linear_infinite]">
            <div class="relative w-full h-full">
              <!-- Corps -->
              <div class="absolute bottom-0 left-1/2 w-3 h-16 bg-night-blue -translate-x-1/2 rounded-t-full"></div>
              <!-- Tête -->
              <div class="absolute bottom-12 left-1/2 w-5 h-5 bg-night-blue -translate-x-1/2 rounded-full"></div>
              <!-- Bras gauche -->
              <div class="absolute bottom-8 left-1/2 w-1 h-8 bg-night-blue -translate-x-1/2 origin-bottom animate-[arm-swing_1s_ease-in-out_infinite] -rotate-12"></div>
              <!-- Bras droit -->
              <div class="absolute bottom-8 left-1/2 w-1 h-8 bg-night-blue -translate-x-1/2 origin-bottom animate-[arm-swing_1s_ease-in-out_infinite] rotate-12" style="animation-delay:0.5s"></div>
            </div>
          </div>
        </div>

        <!-- Ajout des keyframes pour les animations -->
        <style>
          @keyframes walking {
            0% { transform: translateX(-50%) translateX(-300px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateX(-50%) translateX(300px); opacity: 0; }
          }
          @keyframes arm-swing {
            0%, 100% { transform: translateX(-50%) rotate(-12deg); }
            50% { transform: translateX(-50%) rotate(12deg); }
          }
        </style>
        <div class="relative z-10">
        <div id="traversee-intro">
          <h3 class="cormorant text-2xl text-gold mb-4">Préparation du tirage</h3>
          <p class="text-light-gold mb-6">Ce tirage approfondi nécessite quelques informations pour personnaliser votre expérience.</p>
          <button id="traversee-start" class="btn-gold">Commencer</button>
        </div>

        <form id="traversee-form" class="hidden">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
    <div>
      <label for="trav-prenom" class="block text-light-gold mb-2">Prénom</label>
      <input id="trav-prenom" name="prenom" type="text" autocomplete="given-name" inputmode="text"
             class="w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
    </div>
    <div>
      <label for="trav-dob" class="block text-light-gold mb-2">Date de naissance</label>
      <input id="trav-dob" name="date_naissance" type="date" autocomplete="bday"
             class="w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
    </div>
    <div>
      <label for="trav-ville" class="block text-light-gold mb-2">Ville de naissance</label>
      <input id="trav-ville" name="ville_naissance" type="text" inputmode="text" autocomplete="off"
             class="w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
    </div>
    <div>
      <label for="trav-heure" class="block text-light-gold mb-2">Heure de naissance</label>
      <input id="trav-heure" name="heure_naissance" type="time" inputmode="numeric" autocomplete="off"
             class="w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
    </div>
  </div>
  <div class="mb-6">
    <label for="trav-intention" class="block text-light-gold mb-2">Votre intention pour ce tirage</label>
    <textarea id="trav-intention" name="intention" autocomplete="off" spellcheck="true"
              class="w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg min-h-[120px]" required></textarea>
  </div>
  <button type="submit" class="btn-gold w-full">Lancer le tirage</button>
</form>


        <div id="traversee-board" class="hidden"><!-- Board will be generated by JS --></div>
<section id="traversee-results" class="hidden mt-6" aria-live="polite" aria-atomic="true" aria-busy="false">
  <!-- Results will be generated by JS -->
</section>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 px-6 bg-night-blue border-t border-gold/20">
    <div class="container mx-auto max-w-6xl">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
        <div>
          <div class="flex items-center mb-4">
    <img src="https://i.ibb.co/4wG0t61y/logo.png"
     alt="Oradia Logo" width="256" height="256"
     loading="lazy" decoding="async" fetchpriority="low"
     class="w-16 h-16 mr-4" />

            <span class="cormorant text-3xl font-bold gold-gradient">ORADIA</span>
          </div>
          <p class="text-light-gold text-sm">Oracle vibratoire pour accompagner votre cheminement personnel et révéler votre essence.</p>
        </div>
        <div>
          <h4 class="cormorant text-xl text-gold mb-4">Navigation</h4>
          <ul class="space-y-2">
            <li><a href="#accueil" class="text-light-gold hover:text-gold transition">Accueil</a></li>
            <li><a href="#oracle" class="text-light-gold hover:text-gold transition">Oracle</a></li>
            <li><a href="#offres" class="text-light-gold hover:text-gold transition">Offres</a></li>
            <li><a href="#apropos" class="text-light-gold hover:text-gold transition">À Propos</a></li>
            <li><a href="#edolgor" class="text-light-gold hover:text-gold transition">Edolg'Or</a></li>
          </ul>
        </div>
        <div>
          <h4 class="cormorant text-xl text-gold mb-4">Légal</h4>
          <ul class="space-y-2">
            <li><a href="#cgv" class="text-light-gold hover:text-gold transition">CGV</a></li>
            <li><a href="#" class="text-light-gold hover:text-gold transition">Mentions Légales</a></li>
            <li><a href="#" class="text-light-gold hover:text-gold transition">Politique de Confidentialité</a></li>
          </ul>
        </div>
        <div>
          <h4 class="cormorant text-xl text-gold mb-4">Contact</h4>
          <ul class="space-y-2">
          <li class="flex items-start">
  <i class="fas fa-envelope text-gold mt-1 mr-3"></i>
  <a class="text-light-gold hover:text-gold transition" href="mailto:contact@oradia.fr">contact@oradia.fr</a></li>
            <li class="flex items-start"><i class="fab fa-instagram text-gold mt-1 mr-3"></i><span class="text-light-gold">@oradia_oracle</span></li>
          </ul>
        </div>
      </div>
      <div class="pt-8 border-t border-gold/10 text-center">
        <p class="text-light-gold text-sm">&copy; 2025 Oradia. Tous droits réservés. |
          <button id="footerLogin" class="text-gold hover:text-light-gold">Accès Dashboard</button>
        </p>
      </div>
    </div>
  </footer>

  <!-- Modale Commande -->
<div id="orderModal" class="fixed inset-0 bg-night-blue/90 z-[100] flex items-center justify-center hidden"
     role="dialog" aria-modal="true" aria-labelledby="orderTitle" aria-describedby="orderDesc">
  <div class="bg-dark-blue border border-gold/30 rounded-2xl p-8 max-w-md w-full mx-4 relative">
    <button id="closeOrder" class="absolute top-4 right-4 text-gold text-2xl" aria-label="Fermer" type="button"><i class="fas fa-times"></i></button>
    <div class="text-center mb-8">
      <h3 id="orderTitle" class="cormorant text-3xl text-gold mb-2">Commande Tirage Complet</h3>
      <p id="orderDesc" class="text-light-gold">Finalisez votre commande (5€)</p>
      </div>
      <form id="orderForm">
  <div class="mb-4">
    <label class="block text-light-gold mb-2">Email</label>
    <input type="email" autocomplete="email" inputmode="email"
           autocapitalize="off" autocorrect="off" spellcheck="false"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>

  <div class="mb-4">
    <label class="block text-light-gold mb-2">Nom complet</label>
    <input type="text" autocomplete="name" inputmode="text"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>

  <div class="mb-4">
    <label class="block text-light-gold mb-2">Date de naissance</label>
    <input type="date" autocomplete="bday"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>

  <div class="mb-6">
    <label class="block text-light-gold mb-2">Moyen de paiement</label>
    <select class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
      <option value="">Sélectionnez...</option>
      <option value="card">Carte bancaire</option>
      <option value="paypal">PayPal</option>
    </select>
  </div>

  <button type="submit" class="btn-gold w-full">Payer 5€</button>
</form>

    </div>
  </div>

  <!-- Modale Abonnement -->

<div id="subscriptionModal"
     class="fixed inset-0 bg-night-blue/90 z-50 flex items-center justify-center hidden"
     style="backdrop-filter: blur(5px);"
     role="dialog" aria-modal="true"
     aria-labelledby="subscriptionTitle" aria-describedby="subscriptionDesc">

    <div class="bg-dark-blue border border-gold/30 rounded-2xl p-8 max-w-md w-full mx-4 relative">
  <!-- APRÈS -->
<button id="closeSubscription" class="absolute top-4 right-4 text-gold text-2xl" aria-label="Fermer" type="button"><i class="fas fa-times"></i></button>
<div class="text-center mb-8">
  <h3 id="subscriptionTitle" class="cormorant text-3xl text-gold mb-2">Espace Membre Oradia</h3>
  <p id="subscriptionDesc" class="text-light-gold">Connectez-vous ou créez votre compte</p>
</div>


      <!-- Login membre -->
      <form id="memberLoginForm" class="mb-6" aria-hidden="false">
  <div class="mb-4">
    <label for="mem-login-email" class="block text-light-gold mb-2">Email</label>
    <input id="mem-login-email" name="email" type="email"
           autocomplete="email" inputmode="email" autocapitalize="off" autocorrect="off" spellcheck="false"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>
  <div class="mb-6">
    <label for="mem-login-pass" class="block text-light-gold mb-2">Mot de passe</label>
    <input id="mem-login-pass" name="password" type="password"
           autocomplete="current-password"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>
  <button type="submit" class="btn-gold w-full mb-4">Se connecter</button>
  <p class="text-light-gold text-center text-sm">Pas encore de compte ?
    <a href="#" id="showRegister" class="text-gold hover:underline">S'inscrire</a>
  </p>
</form>



      <!-- Register membre -->
      <form id="memberRegisterForm" class="hidden" aria-hidden="true">
  <div class="mb-4">
    <label for="mem-reg-email" class="block text-light-gold mb-2">Email</label>
    <input id="mem-reg-email" name="email" type="email"
           autocomplete="email" inputmode="email" autocapitalize="off" autocorrect="off" spellcheck="false"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>
  <div class="mb-4">
    <label for="mem-reg-pass" class="block text-light-gold mb-2">Mot de passe</label>
    <input id="mem-reg-pass" name="password" type="password"
           autocomplete="new-password"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>
  <div class="mb-6">
    <label for="mem-reg-pass2" class="block text-light-gold mb-2">Confirmez le mot de passe</label>
    <input id="mem-reg-pass2" name="password_confirm" type="password"
           autocomplete="new-password"
           class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
  </div>
  <div class="mb-6 flex items-start">
    <input type="checkbox" id="terms" class="mt-1 mr-3" required>
    <label for="terms" class="text-light-gold text-sm">
      J'accepte les <a href="#cgv" class="text-gold hover:underline">conditions générales</a>
    </label>
  </div>
  <button type="submit" class="btn-gold w-full">Créer le compte & s'abonner</button>
  <p class="text-light-gold text-center text-sm mt-4">Déjà un compte ?
    <a href="#" id="showLogin" class="text-gold hover:underline">Se connecter</a>
  </p>
</form>

  
  <!-- Dashboard -->
  <div id="dashboard" class="fixed inset-0 bg-night-blue z-50 overflow-auto hidden">
    <div class="min-h-screen">
      <header class="bg-night-blue border-b border-gold/20 py-4 px-6 flex justify-between items-center">
        <div class="flex items-center">
          <div class="rounded-xl w-10 h-10 border-2 border-dashed" ></div>
          <span class="cormorant text-2xl font-bold ml-3 gold-gradient">ORADIA DASHBOARD</span>
        </div>
        <div class="flex items-center space-x-4">
          <button id="logoutBtn" class="btn-outline-gold">Déconnexion</button>
          <div class="rounded-xl w-10 h-10 border-2 border-dashed"></div>
        </div>
      </header>

      <div class="p-6">
        <h2 class="cormorant text-3xl text-gold mb-6">Tableau de Bord Analytique</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div class="p-4 rounded-2xl" style="background:rgba(5,20,40,.7); border:1px solid rgba(212,175,55,.2)">
            <h3 class="text-light-gold text-sm">Visiteurs</h3>
            <p class="text-2xl font-bold text-gold">1,248</p>
          </div>
          <div class="p-4 rounded-2xl" style="background:rgba(5,20,40,.7); border:1px solid rgba(212,175,55,.2)">
            <h3 class="text-light-gold text-sm">Taux de rebond</h3>
            <p class="text-2xl font-bold text-gold">32.6%</p>
          </div>
          <div class="p-4 rounded-2xl" style="background:rgba(5,20,40,.7); border:1px solid rgba(212,175,55,.2)">
            <h3 class="text-light-gold text-sm">Conversions</h3>
            <p class="text-2xl font-bold text-gold">48</p>
          </div>
          <div class="p-4 rounded-2xl" style="background:rgba(5,20,40,.7); border:1px solid rgba(212,175,55,.2)">
            <h3 class="text-light-gold text-sm">Revenus</h3>
            <p class="text-2xl font-bold text-gold">€245</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script id="traversee-5cards-clean">
(() => {
  // ---------- util ----------
  const esc = (s) => String(s).replace(/[&<>"']/g, m =>
    m === '&' ? '&amp;' : m === '<' ? '&lt;' : m === '>' ? '&gt;' : m === '"' ? '&quot;' : '&#39;'
  );
  const $  = sel => document.querySelector(sel);
  const el = id  => document.getElementById(id);
  const safePick = (arr) => {
    if (window.crypto?.getRandomValues) { const b=new Uint32Array(1); crypto.getRandomValues(b); return arr[b[0]%arr.length]; }
    return arr[Math.floor(Math.random()*arr.length)];
  };
  // Pol UI (Traversée uniquement)
  const polUI_TRAV = (p) => p === 'yang'
    ? { icon:'▲', label:"Triangle — énergie masculine : élan, action, verticalité", shape:'triangle' }
    : { icon:'◯', label:"Cercle — énergie féminine : réceptivité, accueil, intégration", shape:'cercle' };
  const tossPolarity = () => { const b=new Uint32Array(1); crypto.getRandomValues(b); return (b[0] & 1) ? 'yang' : 'yin'; };
  const coinIcon  = (p) => p==='yang'?'▲':'◯';
  const coinLabel = (p) => p==='yang'
    ? "Pièce : Triangle — énergie masculine : élan, action, verticalité"
    : "Pièce : Cercle — énergie féminine : réceptivité, accueil, intégration";
  const isBridge = (cardPol, coinPol) => !!cardPol && !!coinPol && cardPol !== coinPol;

  // ---------- Données TRAVERSÉE ----------
  const DATA_TRAVERSEE = {
    emotions: [
      {name:"JOIE", quote:"Une onde traverse mon cœur. Elle dit oui à la vie.", polarity:"yang"},
      {name:"TRISTESSE", quote:"Je laisse couler ce qui n'a plus à rester. L'eau me guérit.", polarity:"yin"},
      {name:"INJUSTICE", quote:"Je sens l'appel d'un monde plus juste, d'un équilibre à retrouver.", polarity:"yin"},
      {name:"ÉMERVEILLEMENT", quote:"La beauté m'inspire et l'invisible se révèle.", polarity:"yang"},
      {name:"HONTE", quote:"Je me regarde avec tendresse. Aucun poids ne m'appartient vraiment.", polarity:"yin"},
      {name:"CULPABILITÉ", quote:"Je reconnais mes limites humaines. Je me pardonne, profondément.", polarity:"yin"},
      {name:"SOLITUDE", quote:"Dans le silence, je me découvre présence.", polarity:"yin"},
      {name:"DÉGOÛT", quote:"Je perçois ce qui ne me nourrit plus. J'opère l'écart juste.", polarity:"yin"},
      {name:"SÉRÉNITÉ", quote:"Je goûte la paix dans l'instant.", polarity:"yang"},
      {name:"AMOUR", quote:"J'aime parce que c'est ma nature.", polarity:"yang"},
      {name:"COLÈRE", quote:"Mon feu sacré défend ma juste frontière.", polarity:"yang"},
      {name:"PEUR", quote:"J'écoute l'ombre qui murmure vers plus de conscience.", polarity:"yin"}
    ],
    transmutation: [
      {name:"ACCEPTATION", quote:"La pierre immobile se laisse sculpter par la rivière.", polarity:"yin"},
      {name:"TRANSFORMATION", quote:"Le feu consume et révèle la braise d'or.", polarity:"yang"},
      {name:"LÂCHER-PRISE", quote:"La feuille tombe et nourrit la terre.", polarity:"yin"},
      {name:"RECADRAGE", quote:"Le miroir change d'angle et tout se déplace.", polarity:"yang"},
      {name:"PARDON", quote:"Les chaînes brisées rouillent au sol.", polarity:"yin"},
      {name:"ALIGNEMENT", quote:"Les astres s'ordonnent sur un axe commun.", polarity:"yang"},
      {name:"DÉTACHEMENT", quote:"L'oiseau s'élève sans s'accrocher aux branches.", polarity:"yin"},
      {name:"PURIFICATION", quote:"L'eau claire traverse la roche.", polarity:"yang"},
      {name:"ANCRAGE", quote:"Les racines plongent dans le sol fertile.", polarity:"yin"},
      {name:"OUVERTURE", quote:"La porte s'entrouvre, la lumière jaillit.", polarity:"yang"},
      {name:"FLUIDITÉ", quote:"La rivière contourne l'obstacle sans effort.", polarity:"yin"},
      {name:"CLARIFICATION", quote:"La brume se lève, les contours se révèlent.", polarity:"yang"}
    ],
    revelations: [
      {name:"CLÉ", quote:"L'objet caché ouvre la chambre secrète.", polarity:"yang"},
      {name:"PORTE", quote:"L'ouverture se dessine dans le mur.", polarity:"yin"},
      {name:"MESSAGE", quote:"Le souffle apporte un signe audible.", polarity:"yang"},
      {name:"SYNCHRONICITÉ", quote:"Les fils invisibles se répondent.", polarity:"yin"},
      {name:"SIGNE", quote:"Un éclat discret scintille sur le chemin.", polarity:"yin"},
      {name:"VISION", quote:"L'œil perce au-delà des voiles.", polarity:"yang"},
      {name:"PRÉSAGE", quote:"Un souffle d'avenir traverse le présent.", polarity:"yin"},
      {name:"ÉVEIL", quote:"L'esprit se souvient de lui-même.", polarity:"yang"},
      {name:"LUMIÈRE", quote:"Un rayon fend l'ombre.", polarity:"yang"},
      {name:"DÉVOILEMENT", quote:"Le rideau s'écarte, la scène surgit.", polarity:"yin"},
      {name:"VÉRITÉ", quote:"Le voile tombe, l'essence apparaît.", polarity:"yang"},
      {name:"ILLUSION", quote:"L'image trompe et captive.", polarity:"yin"}
    ],
    actions: [
      {name:"AGIR", quote:"La graine pousse en sortant de terre.", polarity:"yang"},
      {name:"ÉCOUTER", quote:"L'oreille se penche sur le murmure.", polarity:"yin"},
      {name:"DIRE", quote:"La parole tranche comme un souffle clair.", polarity:"yang"},
      {name:"RECEVOIR", quote:"Le cœur ouvert accueille le don.", polarity:"yin"},
      {name:"CRÉER", quote:"Le geste façonne ce qui n'était pas.", polarity:"yang"},
      {name:"ACCUEILLIR", quote:"La porte s'ouvre à l'inattendu.", polarity:"yin"},
      {name:"PARTAGER", quote:"La coupe passe de main en main.", polarity:"yang"},
      {name:"PROTÉGER", quote:"L'abri se dresse autour du fragile.", polarity:"yin"},
      {name:"ALLER VERS", quote:"Le pas cherche la rencontre.", polarity:"yang"},
      {name:"SE RETIRER", quote:"Le sage quitte la foule.", polarity:"yin"},
      {name:"CHOISIR", quote:"Le carrefour appelle la décision.", polarity:"yang"},
      {name:"PATIENTER", quote:"Le fruit mûrit lentement.", polarity:"yin"}
    ],
    cosmos: [
      {name:"ÉTOILE", quote:"La voûte céleste inscrit la mémoire des mondes."},
      {name:"TERRE", quote:"Le sol garde les pas de ceux qui ont marché avant."},
      {name:"OCÉAN", quote:"Les vagues effacent et recommencent sans fin."},
      {name:"GÉNÉALOGIE", quote:"Tes racines prolongent des vies invisibles."},
      {name:"FUTUR", quote:"La graine porte déjà l'ombre de la forêt."},
      {name:"PASSÉ", quote:"Les échos d'hier résonnent dans le présent."},
      {name:"PRÉSENT", quote:"Tout converge en un seul instant immobile."},
      {name:"MÉMOIRE CELLULAIRE", quote:"Chaque cellule conserve la trace du vivant."},
      {name:"MÉMOIRE COLLECTIVE", quote:"Le groupe rêve à travers l'individu."},
      {name:"LE TORE", quote:"Le tore relie l'ombre et la lumière."}
    ]
  };

  const dirLabel = {
    nord: "Nord — Vision (Révélations)",
    sud: "Sud — Ancrage (Transmutation)",
    est: "Est — Élan (Actions)",
    ouest: "Ouest — Mémoire (Émotions)",
    centre: "Centre — Mémoires Cosmos"
  };

  function slot(slotName, family){
    const chip = slotName.toUpperCase();
    return `
      <article class="traversee-card ${slotName}" data-slot="${slotName}" data-family="${family}" aria-label="Carte ${dirLabel[slotName]}">
        <div class="traversee-card-inner">
          <div class="traversee-card-back bg-gradient-to-br from-gold/10 to-night-blue border border-gold/30 rounded-xl p-6 h-64 flex items-center justify-center cursor-pointer"
               role="button" tabindex="0" aria-pressed="false" aria-label="Retourner la carte ${dirLabel[slotName]}">
            <div class="text-center">
              <div class="text-sm opacity-80 mb-1">${dirLabel[slotName]}</div>
              <div class="logo-circle" aria-hidden="true"></div>
            </div>
          </div>
          <div class="traversee-card-front hidden bg-gradient-to-br from-gold/5 to-night-blue border border-gold/30 rounded-xl p-6 h-64">
            <div class="flex items-center justify-between mb-2">
              <span class="chip">${chip}</span>
              <span class="polarity" data-pol></span>
            </div>
            <div class="art">
              <div>
                <h4 class="text-gold text-xl mb-2" data-name>—</h4>
                <p class="text-light-gold" data-quote>—</p>
              </div>
            </div>
          </div>
        </div>
      </article>
    `;
  }

  // ---------- Plateau ----------
  function buildBoard() {
    const host = el('traversee-board');
    if (!host) return;

    host.innerHTML = `
      <h3 class="cormorant text-2xl text-gold mb-6 text-center">
        Retournez les 5 cartes : Nord • Sud • Est • Ouest • Centre
      </h3>
      <div class="traversee-board-5">
        ${slot('nord','revelations')}
        ${slot('sud','transmutation')}
        ${slot('est','actions')}
        ${slot('ouest','emotions')}
        ${slot('centre','cosmos')}
      </div>
    `;
    host.classList.remove('hidden');

    host._state = { flipped: 0, drawn: { nord:null, sud:null, est:null, ouest:null, centre:null } };

    host.querySelectorAll('.traversee-card-back').forEach(back => {
      const card = back.closest('.traversee-card');
      const onFlip = () => flipCard(card);
      back.addEventListener('click', onFlip);
      back.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); onFlip(); }});
    });

    el('traversee')?.classList.remove('hidden');
    enterImmersive();
  }

  // ---------- Mode immersif ----------
  function enterImmersive(){
    const others = [...document.querySelectorAll('body > header, body > footer, body > section:not(#traversee)')];
    others.forEach(n => { n.classList.add('hide-immersive'); n.setAttribute('inert',''); n.setAttribute('aria-hidden','true'); });
    el('exitTraverseeBtn')?.classList.remove('hidden');
    el('traversee')?.scrollIntoView({behavior:'smooth', block:'start'});
  }
  function exitImmersive(){
    const all = [...document.querySelectorAll('body > header, body > footer, body > section')];
    all.forEach(n => { n.classList.remove('hide-immersive'); n.removeAttribute('inert'); n.removeAttribute('aria-hidden'); });
    el('exitTraverseeBtn')?.classList.add('hidden');
    const boardHost = el('traversee-board');
    const results   = el('traversee-results');
    const intro     = el('traversee-intro');
    const form      = el('traversee-form');
    if(boardHost){ boardHost.innerHTML=''; boardHost.classList.add('hidden'); }
    if(results){ results.innerHTML=''; results.classList.add('hidden'); }
    if(form){ form.reset?.(); form.classList.add('hidden'); }
    if(intro){ intro.classList.remove('hidden'); }
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // ---------- Flip ----------
  function flipCard(card){
    if(!card || card.classList.contains('flipped')) return;

    const tForm = el('traversee-form');
    const intentionField = tForm?.querySelector('textarea, input[type="text"]');
    if(intentionField && !intentionField.value.trim()){
      intentionField.focus();
      intentionField.setCustomValidity("Veuillez saisir votre intention pour ce tirage.");
      intentionField.reportValidity();
      return;
    } else if (intentionField) { intentionField.setCustomValidity(""); }

    const slot = card.dataset.slot;       // nord/sud/est/ouest/centre
    const fam  = card.dataset.family;     // revelations/transmutation/actions/emotions/cosmos
    const base = safePick(DATA_TRAVERSEE[fam]||[]);

    // Pièce : sur les 4 directions uniquement
    const coin  = (slot === 'centre') ? null : tossPolarity();
    const brOn  = isBridge(base?.polarity, coin);
    const brTxt = brOn ? (base?.bridge || "Passerelle activée") : null;

    // Face avant : titre + base
    card.querySelector('[data-name]').textContent  = base?.name || "—";
    card.querySelector('[data-quote]').textContent = base?.quote || "—";

    // Polarité de la carte (pas au Centre)
    const polEl = card.querySelector('[data-pol]');
    if (slot === 'centre') {
      polEl.style.visibility = 'hidden'; polEl.textContent = '';
      polEl.removeAttribute('title'); polEl.removeAttribute('aria-label');
      polEl.classList.remove('is-triangle','is-cercle');
    } else {
      const ui = polUI_TRAV(base?.polarity);
      polEl.style.visibility = 'visible';
      polEl.textContent = ui.icon;
      polEl.title = ui.label;
      polEl.setAttribute('aria-label', ui.label);
      polEl.classList.toggle('is-triangle', ui.shape === 'triangle');
      polEl.classList.toggle('is-cercle',   ui.shape === 'cercle');
    }

    // Chips topbar : pièce + passerelle
    const topbar = card.querySelector('.traversee-card-front .flex.items-center');
    topbar?.querySelector('[data-coin]')?.remove();
    topbar?.querySelector('[data-bridge-badge]')?.remove();
    card.querySelector('[data-bridge-quote]')?.remove();

    if(coin){
      const coinEl = document.createElement('span');
      coinEl.className = 'chip'; coinEl.setAttribute('data-coin','');
      coinEl.title = coinLabel(coin);
      coinEl.textContent = "Pièce " + coinIcon(coin);
      topbar.appendChild(coinEl);
    }
    if(brOn){
      const tag = document.createElement('span');
      tag.className = 'chip chip--passerelle';
      tag.textContent = 'Carte Passerelle';
      tag.setAttribute('data-bridge-badge','');
      topbar.appendChild(tag);

      const q = document.createElement('div');
      q.setAttribute('data-bridge-quote','');
      q.className = 'mt-2 text-gold/90';
      q.innerHTML = `<em>Passerelle :</em> ${esc(brTxt)}`;
      card.querySelector('.traversee-card-front .art > div').appendChild(q);

      card.setAttribute('data-passerelle','true');
    }

    // Flip + état
    card.classList.add('flipped');
    card.querySelector('.traversee-card-back')?.classList.add('hidden');
    card.querySelector('.traversee-card-front')?.classList.remove('hidden');

    const host = el('traversee-board');
    host._state.drawn[slot] = { ...base, coin, bridge: brTxt };
    host._state.flipped++;

    if(host._state.flipped === 5){
      showResults(host._state.drawn, intentionField?.value?.trim() || "");
    }
  }

  // ---------- Résultats ----------
  function setBusy(elm, busy){ elm?.setAttribute('aria-busy', busy ? 'true' : 'false'); }
  function showResults(drawn, intention){
    const out = el('traversee-results');
    if(!out) return;
    setBusy(out, true);

    const L = (titre, obj, showPol=true) => {
      if(!obj) return '';
      const polTxt  = showPol && obj.polarity ? ` (${obj.polarity==='yang'?'Triangle':'Cercle'})` : '';
      const coinTxt = obj.coin ? ` • Pièce: ${obj.coin==='yang'?'Triangle':'Cercle'}` : '';
      const bridge  = obj.bridge ? `<br><em>Passerelle :</em> ${esc(obj.bridge)}` : '';
      return `<p><b>${titre} :</b> ${obj.name}${polTxt}${coinTxt}<br><i>« ${obj.quote||'—'} »</i>${bridge}</p>`;
    };

    out.innerHTML = `
      <h3 class="cormorant text-2xl text-gold mb-3">Résultats de la Traversée</h3>
      ${intention ? `<div class="mb-2"><b>Intention :</b> ${esc(intention)}</div>` : ``}
      <div class="result-lines">
        ${L("Nord — Révélations (Vision)", drawn.nord)}
        ${L("Sud — Transmutation (Ancrage)", drawn.sud)}
        ${L("Est — Actions (Élan)", drawn.est)}
        ${L("Ouest — Émotions (Mémoire)", drawn.ouest)}
        ${L("Centre — Mémoires Cosmos", drawn.centre, false)}
      </div>
      <div class="mt-3">
        <b>Synthèse :</b>
        <p>La Vision (Nord) éclaire l’horizon ; l’Ancrage (Sud) montre ce qui doit se transformer ; l’Élan (Est) indique le mouvement ; la Mémoire (Ouest) révèle la leçon ; le Cosmos (Centre) relie le tout.</p>
      </div>
    `;

    requestAnimationFrame(()=> {
      setBusy(out, false);
      out.classList.remove('hidden');
      out.scrollIntoView({behavior:'smooth', block:'start'});
    });
  }

  // ---------- Wiring section #traversee ----------
  document.addEventListener('DOMContentLoaded', () => {
    const startBtn = el('traversee-start');
    const form     = el('traversee-form');
    const exitBtn  = el('exitTraverseeBtn');

    startBtn?.addEventListener('click', () => {
      el('traversee-intro')?.classList.add('hidden');
      form?.classList.remove('hidden');
      el('traversee')?.scrollIntoView({behavior:'smooth'});
    });

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      buildBoard();
    });

    exitBtn?.addEventListener('click', exitImmersive);
  });
})();
</script>


<!-- Modale Login Dashboard -->
<div id="loginModal" class="fixed inset-0 bg-night-blue/90 z-50 flex items-center justify-center hidden"
     role="dialog" aria-modal="true" aria-labelledby="loginTitle" aria-describedby="loginDesc">
  <div class="bg-dark-blue border border-gold/30 rounded-2xl p-8 max-w-md w-full mx-4 relative">
    <button id="closeLoginModal" class="absolute top-4 right-4 text-gold text-2xl" aria-label="Fermer" type="button">
      <i class="fas fa-times"></i>
    </button>

    <div class="text-center mb-8">
      <h3 id="loginTitle" class="cormorant text-3xl text-gold mb-2">Connexion Dashboard</h3>
      <p id="loginDesc" class="text-light-gold">Accédez à votre espace d'analyse SEO</p>
    </div>

    <form id="loginFormDashboard">
      <div class="mb-4">
        <label class="block text-light-gold mb-2">Email</label>
        <input type="email" autocomplete="email" inputmode="email" autocapitalize="off" autocorrect="off" spellcheck="false"
               class="form-input w-full bg-[rgba(5,20,40,.7)] border border-[rgba(212,175,55,.35)] p-3 rounded-lg" required>
      </div>
      <button type="submit" class="btn-gold w-full">Se connecter</button>
    </form>
  </div>
</div>



<script id="a11y-modals">
function trapFocus(modal){
  const FOCUS = 'a[href],button,textarea,input,select,[tabindex]:not([tabindex="-1"])';
  const nodes = [...modal.querySelectorAll(FOCUS)].filter(el=>!el.disabled && el.tabIndex !== -1);
  if (!nodes.length) return;
  const first = nodes[0], last = nodes[nodes.length-1];
  function onKey(e){
    if (e.key !== 'Tab') return;
    if (e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
    else if (!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
  }
  modal.addEventListener('keydown', onKey);
  modal.__releaseTrap = () => modal.removeEventListener('keydown', onKey);
}
function openModal(el){
  el.classList.remove('hidden'); document.body.style.overflow='hidden';
  trapFocus(el);
  (el.querySelector('input,button,[tabindex]')||el).focus();
}
function closeModal(el){
  el.classList.add('hidden'); document.body.style.overflow='';
  el.__releaseTrap?.();
}
</script>
<script id="wiring-fixes">
(function(){
  const $ = (id) => document.getElementById(id);

  // ---------- Modale Commande ----------
  const orderModal = $('orderModal');
  $('orderBtn')?.addEventListener('click', (e)=>{ e.preventDefault(); openModal(orderModal); });
  $('closeOrder')?.addEventListener('click', ()=> closeModal(orderModal));

  // ---------- Modale Abonnement (Espace membre) ----------
  const subscriptionModal   = $('subscriptionModal');
  const memberLoginForm     = $('memberLoginForm');
  const memberRegisterForm  = $('memberRegisterForm');
  const showRegister        = $('showRegister');
  const showLogin           = $('showLogin');

  const setLoginView = () => {
    if(!memberLoginForm || !memberRegisterForm) return;
    memberLoginForm.classList.remove('hidden');
    memberLoginForm.setAttribute('aria-hidden','false');
    memberLoginForm.removeAttribute('inert');
    memberRegisterForm.classList.add('hidden');
    memberRegisterForm.setAttribute('aria-hidden','true');
    memberRegisterForm.setAttribute('inert','');
  };
  const setRegisterView = () => {
    if(!memberLoginForm || !memberRegisterForm) return;
    memberRegisterForm.classList.remove('hidden');
    memberRegisterForm.setAttribute('aria-hidden','false');
    memberRegisterForm.removeAttribute('inert');
    memberLoginForm.classList.add('hidden');
    memberLoginForm.setAttribute('aria-hidden','true');
    memberLoginForm.setAttribute('inert','');
  };

  $('subscribeBtn')?.addEventListener('click', (e)=>{
    e.preventDefault();
    setLoginView();
    openModal(subscriptionModal);
    (memberLoginForm?.querySelector('input,button,select,textarea') || subscriptionModal).focus();
  });
  $('closeSubscription')?.addEventListener('click', ()=> closeModal(subscriptionModal));
  showRegister?.addEventListener('click', (e)=>{ e.preventDefault(); setRegisterView(); (memberRegisterForm?.querySelector('input,button,select,textarea')||subscriptionModal).focus(); });
  showLogin?.addEventListener('click', (e)=>{ e.preventDefault(); setLoginView(); (memberLoginForm?.querySelector('input,button,select,textarea')||subscriptionModal).focus(); });

  memberLoginForm?.addEventListener('submit', (e)=>{
    e.preventDefault();
    alert('Connexion réussie ! Redirection vers votre espace membre...');
    closeModal(subscriptionModal);
  });
  memberRegisterForm?.addEventListener('submit', (e)=>{
    e.preventDefault();
    alert('Compte créé ! Abonnement activé.');
    closeModal(subscriptionModal);
  });

  // ---------- Modale Login Dashboard ----------
  const loginModal      = $('loginModal');
  const closeLoginModal = $('closeLoginModal');
  const openLoginButtons = ['loginBtn','footerLogin','loginBtnMobile'].map($).filter(Boolean);

  openLoginButtons.forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      e.preventDefault();
      openModal(loginModal);
      setTimeout(()=> loginModal?.querySelector('input,button')?.focus(), 50);
    });
  });
  closeLoginModal?.addEventListener('click', ()=> closeModal(loginModal));

  const loginFormDash = $('loginFormDashboard');
  const dashboard     = $('dashboard');
  $('logoutBtn')?.addEventListener('click', ()=>{
    dashboard?.classList.add('hidden');
    document.body.style.overflow='';
  });
  loginFormDash?.addEventListener('submit', (e)=>{
    e.preventDefault();            // démo
    closeModal(loginModal);
    dashboard?.classList.remove('hidden');
    document.body.style.overflow='hidden';
  });

  // ---------- Menu mobile ----------
  const mobileBtn  = $('mobileMenuBtn');
  const mobileMenu = $('mobileMenu');
  mobileBtn?.addEventListener('click', ()=>{
    const expanded = mobileBtn.getAttribute('aria-expanded') === 'true';
    mobileBtn.setAttribute('aria-expanded', String(!expanded));
    mobileMenu?.classList.toggle('hidden', expanded);
  });

  // ---------- ESC pour fermer modales / dashboard ----------
  document.addEventListener('keydown', (e)=>{
    if(e.key !== 'Escape') return;
    [orderModal, subscriptionModal, loginModal].forEach(m=>{
      if(m && !m.classList.contains('hidden')) closeModal(m);
    });
    if(dashboard && !dashboard.classList.contains('hidden')){
      dashboard.classList.add('hidden');
      document.body.style.overflow='';
    }
  });

  // ---------- Bouton "Commencer le tirage" : état initial + ARIA ----------
  const intentionIn = $('intention');
  const startButton = $('startReading');
  if(startButton && intentionIn){
    const onInput = () => {
      const ok = intentionIn.value.trim().endsWith('?') && intentionIn.value.trim().length > 1;
      startButton.disabled = !ok;
      startButton.setAttribute('aria-disabled', String(!ok));
    };
    intentionIn.addEventListener('input', onInput, {passive:true});
    onInput();
  }

  // ---------- "Tirage Complet" -> aller aux offres ----------
  $('fullReading')?.addEventListener('click', ()=>{
    $('offres')?.scrollIntoView({behavior:'smooth'});
  });

  // ---------- Scroll-to-top (apparition) ----------
  const scrollTopBtn = $('scrollTop');
  window.addEventListener('scroll', ()=>{
    if(!scrollTopBtn) return;
    scrollTopBtn.classList.toggle('show', window.scrollY > 400);
  }, {passive:true});
  scrollTopBtn?.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));
})();
</script>

<script id="checkout-unlock">
(function(){
  'use strict';

  var alreadyUnlocked = false;

  function unlockTraversee() {
    if (alreadyUnlocked) return;
    alreadyUnlocked = true;

    // Affiche la section
    var trav = document.getElementById('traversee');
    if (trav) trav.classList.remove('hidden');

    // Affiche l'intro, masque le formulaire
    var intro = document.getElementById('traversee-intro');
    var form  = document.getElementById('traversee-form');
    if (intro) intro.classList.remove('hidden');
    if (form)  form.classList.add('hidden');

    // Mode immersif light
    document.querySelectorAll('body > header, body > footer, body > section:not(#traversee)')
      .forEach(function(n){
        n.classList.add('hide-immersive');
        n.setAttribute('inert','');
        n.setAttribute('aria-hidden','true');
      });
    var exitBtn = document.getElementById('exitTraverseeBtn');
    if (exitBtn) exitBtn.classList.remove('hidden');

    // Toast
    var toast = document.createElement('div');
    toast.setAttribute('role','status');
    toast.setAttribute('aria-live','polite');
    toast.className = 'fixed top-4 left-1/2 -translate-x-1/2 bg-dark-blue border border-gold/40 text-light-gold px-4 py-3 rounded-xl shadow z-[1000]';
    toast.innerHTML = '<b>Merci ✨</b> Paiement confirmé. Votre tirage de la Traversée est débloqué.';
    document.body.appendChild(toast);
    setTimeout(function(){ toast.remove(); }, 6000);

    // Nettoyage URL + scroll
    try { history.replaceState({}, '', location.pathname + '#traversee'); } catch(_) {}
    trav?.scrollIntoView({behavior:'smooth', block:'start'});
  }

  function looksLikeCheckoutReturn() {
    var sp   = new URLSearchParams(location.search);
    var hash = (location.hash || '').toLowerCase();
    return (
      sp.has('session_id') ||
      sp.get('success') === '1' ||
      sp.get('stripe_success') === 'true' ||
      sp.get('paid') === 'traversee' ||
      sp.get('paypal') === 'success' ||
      hash.includes('merci') || hash.includes('success') || hash.includes('traversee')
    );
  }

  // Démo locale : redirige vers ?paid=traversee#traversee
  var orderForm = document.getElementById('orderForm');
  if (orderForm) {
    orderForm.addEventListener('submit', function(e){
      // retire e.preventDefault() quand Stripe est branché côté serveur
      e.preventDefault();
      window.location.href = location.pathname + '?paid=traversee#traversee';
    });
  }

  // Au chargement, si retour de paiement détecté -> on débloque
  if (looksLikeCheckoutReturn()) {
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', unlockTraversee, {once:true});
    } else {
      unlockTraversee();
    }
  }
})();
</script>



  <!-- SCRIPT -->

<script id="oradia-pelerin">
(function(){
'use strict';

// ====== Données PÈLERIN ======
const DATA = {
  emotions: [
    {name:"JOIE", quote:"Une onde traverse mon cœur. Elle dit oui à la vie.", polarity:"yang"},
    {name:"TRISTESSE", quote:"Je laisse couler ce qui n’a plus à rester. L’eau me guérit.", polarity:"yin"},
    {name:"INJUSTICE", quote:"Je sens l’appel d’un monde plus juste, d’un équilibre à retrouver.", polarity:"yin"},
    {name:"ÉMERVEILLEMENT", quote:"La beauté m’inspire et l’invisible se révèle.", polarity:"yang"},
    {name:"HONTE", quote:"Je me regarde avec tendresse. Aucun poids ne m’appartient vraiment.", polarity:"yin"},
    {name:"CULPABILITÉ", quote:"Je reconnais mes limites humaines. Je me pardonne, profondément.", polarity:"yin"},
    {name:"SOLITUDE", quote:"Dans le silence, je me découvre présence.", polarity:"yin"},
    {name:"DÉGOÛT", quote:"Je perçois ce qui ne me nourrit plus. J’opère l’écart juste.", polarity:"yin"},
    {name:"SÉRÉNITÉ", quote:"Je goûte la paix dans l’instant.", polarity:"yang"},
    {name:"AMOUR", quote:"J’aime parce que c’est ma nature.", polarity:"yang"},
    {name:"COLÈRE", quote:"Mon feu sacré défend ma juste frontière.", polarity:"yang"},
    {name:"PEUR", quote:"J’écoute l’ombre qui murmure vers plus de conscience.", polarity:"yin"}
  ],
  besoins: [
    {name:"RECONNAISSANCE", quote:"Quand mes dons sont vus, je m’ouvre.", polarity:"yang"},
    {name:"SÉCURITÉ", quote:"La stabilité me soutient.", polarity:"yin"},
    {name:"LIBERTÉ", quote:"Je respire l’espace, rien ne m’enferme.", polarity:"yang"},
    {name:"SOUTIEN", quote:"Je m’appuie sans honte sur l’autre.", polarity:"yin"},
    {name:"REPOS", quote:"Ralentir régénère mon être.", polarity:"yin"},
    {name:"CLAIRETÉ", quote:"La lumière éclaire mon esprit.", polarity:"yang"},
    {name:"APPARTENANCE", quote:"Je fais partie d’un cercle plus vaste.", polarity:"yin"},
    {name:"AUTONOMIE", quote:"Je marche de mes propres forces.", polarity:"yang"},
    {name:"STIMULATION", quote:"Le mouvement m’invite à explorer.", polarity:"yang"},
    {name:"HARMONIE", quote:"Chaque chose à sa place.", polarity:"yin"},
    {name:"SENS", quote:"Chaque pas a une raison d’être.", polarity:"yin"},
    {name:"AMOUR REÇU", quote:"J’accueille la tendresse offerte.", polarity:"yin"}
  ],
  actions: [
    {name:"AGIR", quote:"Je passe du rêve à l’acte.", polarity:"yang"},
    {name:"DIRE", quote:"Je prononce les mots justes.", polarity:"yang"},
    {name:"CRÉER", quote:"Je façonne le monde, offrande.", polarity:"yang"},
    {name:"PARTAGER", quote:"J’offre ce qui m’anime.", polarity:"yang"},
    {name:"ALLER VERS", quote:"Je m’avance, curieux.", polarity:"yang"},
    {name:"CHOISIR", quote:"Je décide avec clarté.", polarity:"yang"}
  ],
  cosmos: [
    {name:"ORIGINE", quote:"Tout naît du même centre."},
    {name:"LIGNÉE", quote:"Je marche avec mes ancêtres."},
    {name:"CYCLE", quote:"Rien ne se perd, tout se transforme."},
    {name:"LOI", quote:"Des règles invisibles vibrent partout."},
    {name:"TRAME", quote:"Un tissu relie chaque instant."},
    {name:"KARMA", quote:"Je récolte ce que je sème."},
    {name:"VOILE", quote:"Je pressens sans tout voir."},
    {name:"PORTAIL", quote:"Un seuil s’ouvre vers ailleurs."},
    {name:"ÉCHO", quote:"Un souvenir me traverse."},
    {name:"COSMOGÉNÈSE", quote:"Le monde s’éveille à nouveau."},
    {name:"AKASHA", quote:"Tout est écrit et possible."},
    {name:"INTRICATION", quote:"Tout est lié à tout."}
  ]
};

// UI polarité
const polUI_PEL = (p) => p === 'yang'
  ? { icon:'▲', label:"Triangle — énergie masculine : élan, action, verticalité" }
  : { icon:'◯', label:"Cercle — énergie féminine : réceptivité, accueil, intégration" };

// RNG
const rng = n => { const b = new Uint32Array(1); crypto.getRandomValues(b); return b[0] % n; };
const pick = arr => arr[rng(arr.length)];

// ===== Synthèse =====
const rand = pick;
const cap  = s => s.charAt(0).toUpperCase() + s.slice(1);
const tokens = (t) => (t||"").toLowerCase().replace(/[’'"]/g," ").replace(/[^a-zàâäçéèêëîïôöùûüÿœ\s-]/gi," ").split(/\s+/).filter(x=>x && x.length>2);
const SYN = {
  ouvre: ["ouvre","défriche","éclaire","déplie","met en relief"],
  indique: ["indique","invite à","oriente vers","suggère","met le cap sur"],
  appelle: ["appelle","réclame","sollicite","demande","requiert"],
  pas: ["pas","mouvement","élan","impulsion","geste"],
  carte: ["carte","arcane","signal","vecteur","pilier"],
  ensemble: ["lecture d’ensemble","trame globale","horizon commun","axe du jour","cohérence du tirage"]
};
const MEANINGS = {
  emotions: {
    "JOIE":"capitalise sur ce qui te donne de l’oxygène intérieur.",
    "TRISTESSE":"offre un bain d’intégration : accepte le tempo bas, il recolle les pièces.",
    "INJUSTICE":"pousse à redresser une balance : pose clairement tes limites.",
    "ÉMERVEILLEMENT":"ravive la curiosité : regarder autrement déverrouille la suite.",
    "HONTE":"invite à déposer un fardeau qui ne t’appartient pas.",
    "CULPABILITÉ":"demande de reconnaître l’intention juste, pas la perfection.",
    "SOLITUDE":"crée un espace fécond : le recul est fécondation, pas retrait.",
    "DÉGOÛT":"signale une pollution : nettoie l’environnement ou la situation.",
    "SÉRÉNITÉ":"stabilise la base : calme clair = décisions nettes.",
    "AMOUR":"replace le lien au centre : nourris la relation la plus vivante.",
    "COLÈRE":"donne un feu directeur : canalise, ne refoule pas.",
    "PEUR":"préviens par avance : sécurise un point précis avant d’avancer."
  },
  besoins: {
    "RECONNAISSANCE":"cherche des témoins compétents de tes talents.",
    "SÉCURITÉ":"solidifie une base matérielle avant d’élargir.",
    "LIBERTÉ":"élague les contraintes inutiles pour respirer.",
    "SOUTIEN":"structure une aide concrète (personne, outil, temps).",
    "REPOS":"programme des pauses réelles : elles améliorent ton rendement.",
    "CLAIRETÉ":"met à plat critères et priorités sur 1 page.",
    "APPARTENANCE":"rattache ton action à un cercle qui te ressemble.",
    "AUTONOMIE":"réaffirme ton périmètre de décision.",
    "STIMULATION":"mets un défi mesuré pour relancer la dynamique.",
    "HARMONIE":"réduit les frictions : simplifie un processus.",
    "SENS":"relie l’action à ton ‘pourquoi’ explicite.",
    "AMOUR REÇU":"autorise-toi à demander et… à recevoir."
  },
  actions: {
    "AGIR":"pose un acte visible avant la fin de journée.",
    "DIRE":"formule le message exact, sans détour, avec douceur ferme.",
    "CRÉER":"prototype une version 0.1 au lieu d’attendre la 1.0.",
    "PARTAGER":"mets ton travail dans une boucle de feedback courte.",
    "ALLER VERS":"prends rendez-vous avec ce/ceux qui t’attirent.",
    "CHOISIR":"tranche entre deux voies ‘suffisantes’ pour libérer l’énergie."
  },
  cosmos: {
    "ORIGINE":"revenir à la source t’évite l’égarement périphérique.",
    "LIGNÉE":"honorer l’héritage débloque l’élan futur.",
    "CYCLE":"tout revient : planifie en boucles plutôt qu’en lignes droites.",
    "LOI":"respecter la contrainte crée la vraie liberté de mouvement.",
    "TRAME":"tout est connecté : aligne les pièces au même axe.",
    "KARMA":"cultive l’intention ; elle imprime la suite.",
    "VOILE":"accepte une zone floue : l’information arrive en marchant.",
    "PORTAIL":"une opportunité exige un pas concret pour s’ouvrir.",
    "ÉCHO":"ce que tu vis résonne ailleurs : observe les motifs.",
    "COSMOGÉNÈSE":"pense ‘naissance’ : initie petit, grandira ensuite.",
    "AKASHA":"garde trace ; l’archive devient levier.",
    "INTRICATION":"prends en compte les dépendances avant d’agir."
  }
};
const polMood = (p) => p==="yang" ? "tonus, clarté, décision" : p==="yin" ? "écoute, accueil, intériorisation" : "mémoire, continuité";
function sentence(parts){ return parts.filter(Boolean).join(" "); }
function tokens3(t){ return tokens(t).slice(0,3); }

function lineEmotion(E, intentTags){
  const base = `${SYN.carte[rand(SYN.carte)]} ÉMOTIONS (${E.name})`;
  const pol  = E.polarity ? ` • ${polMood(E.polarity)}` : "";
  const link = MEANINGS.emotions[E.name] || "te donne un indicateur intérieur net.";
  const intent = intentTags.length ? ` En lien avec “${intentTags[0]}”, ` : " ";
  return sentence([`${base}${pol} :`, intent+link]);
}
function lineBesoin(B, intentTags){
  const base = `${SYN.carte[rand(SYN.carte)]} BESOINS (${B.name})`;
  const pol  = B.polarity ? ` • ${polMood(B.polarity)}` : "";
  const link = MEANINGS.besoins[B.name] || "cadre l’ajustement relationnel.";
  const intent = intentTags[1] ? ` Pour “${intentTags[1]}”, ` : " ";
  return sentence([`${base}${pol} :`, intent+link]);
}
function lineAction(A, intentTags){
  const base = `${SYN.carte[rand(SYN.carte)]} ACTIONS (${A.name})`;
  const pol  = A.polarity ? ` • ${polMood(A.polarity)}` : "";
  const link = MEANINGS.actions[A.name] || "matérialise l’intuition en mouvement.";
  const intent = intentTags[2] ? ` Concrètement sur “${intentTags[2]}”, ` : " ";
  return sentence([`${base}${pol} :`, intent+link]);
}
function lineCosmos(C, E, B, A){
  const head = `MÉMOIRES COSMOS (${C.name})`;
  const core = MEANINGS.cosmos[C.name] || "donne la profondeur du décor.";
  const bridge = rand(SYN.indique);
  return `${head} : ${cap(core)} Elle ${bridge} l’articulation ${E.name} → ${B.name} → ${A.name}.`;
}

function buildSynthesis(E,B,A,C,intentText){
  const intentTags = tokens3(intentText);
  const intro = cap(`${rand(["Aujourd’hui","Pour cette question","Dans ce cadre"])} ${rand(["l’ensemble","la trame","le tirage"]) } ${rand(["se compose","se tisse","se dessine"])} autour de quatre foyers.`);
  const s1 = lineEmotion(E,intentTags), s2 = lineBesoin(B,intentTags), s3 = lineAction(A,intentTags), s4 = lineCosmos(C,E,B,A);
  const wrap = `${cap(rand(SYN.ensemble))} : ${rand([
    "part de l’émotion sincère, s’ajuste au besoin réel, se décide en un geste sobre.",
    "honore l’affect, clarifie le cadre, et met le corps en mouvement.",
    "évite le flou : une petite décision vaut mieux qu’une grande hésitation.",
    "reste modeste et concret : un pas bien posé en appelle d’autres."
  ])}`;
  const mantra = `🕊️ Mantra : « ${rand([
    "Je choisis la clarté plutôt que la perfection.",
    "Je fais un petit pas juste, ici et maintenant.",
    "J’aligne mon geste sur mon axe intérieur.",
    "Je laisse le sens guider mon action."
  ])} »`;
  const question = `❓ Question : ${rand([
    "Quel micro-acte précis prouve mon engagement aujourd’hui ?",
    "Quelle friction puis-je apaiser en 10 minutes ?",
    "Quel soutien simple puis-je solliciter sans me justifier ?",
    "Quelle chose puis-je dire clairement, sans détour inutile ?"
  ])}`;
  return `
    <div class="mt-3"><b>Synthèse du tirage :</b></div>
    <p>${intro}</p>
    <p>${s1}</p>
    <p>${s2}</p>
    <p>${s3}</p>
    <p>${s4}</p>
    <p style="margin-top:12px"><b>${cap(rand(SYN.ensemble))}</b> — ${wrap}</p>
    <p style="margin-top:8px"><i>${mantra}</i><br>${question}</p>
  `;
}

// ===== État / DOM =====
let drawn = { emotions:null, besoins:null, actions:null, cosmos:null };
let flippedCount = 0;

const board       = document.getElementById("board");
const showBtn     = document.getElementById("showResults");
const resetBtn    = document.getElementById("reset");
const linesOut    = document.getElementById("lines");
const synthOut    = document.getElementById("synthese");
const intentionIn = document.getElementById("intention");
const outIntent   = document.getElementById("out-intention");
const results     = document.getElementById("results");

// ===== Rendu face avant =====
function renderFront(cardEl, picked, family){
  cardEl.querySelector('[data-name]').textContent  = picked.name;
  cardEl.querySelector('[data-quote]').textContent = picked.quote || picked.base;

  const pol = cardEl.querySelector('[data-polarity]');
  if (family === "cosmos") {
    pol.style.visibility = "hidden";
    pol.textContent = "";
    pol.removeAttribute('title'); pol.removeAttribute('aria-label');
    pol.classList.remove('is-triangle','is-cercle');
  } else {
    const ui = polUI_PEL(picked.polarity);
    pol.style.visibility = "visible";
    pol.textContent = ui.icon;
    pol.title = ui.label;
    pol.setAttribute('aria-label', ui.label);
    pol.classList.toggle('is-triangle', picked.polarity === 'yang');
    pol.classList.toggle('is-cercle',   picked.polarity === 'yin');
  }

  const topbar = cardEl.querySelector('.front .topbar');
  topbar?.querySelector('[data-coin]')?.remove();
  topbar?.querySelector('[data-bridge-badge]')?.remove();
  cardEl.querySelector('[data-bridge-quote]')?.remove();
}

// ===== Flip carte (PÈLERIN) =====
const pickOne = (arr) => arr[rng(arr.length)];
function flipCard(cardEl){
  if(cardEl.classList.contains('flipped')) return;
  const q = (intentionIn.value||"").trim();
  if(!q.endsWith('?')){
    intentionIn.setCustomValidity("Veuillez formuler une question ouverte se terminant par « ? »");
    intentionIn.reportValidity();
    return;
  }
  const family = cardEl.dataset.family;
  const base   = pickOne(DATA[family]);
  drawn[family] = base;

  renderFront(cardEl, base, family);

  cardEl.classList.add('flipped');
  const back = cardEl.querySelector('.back');
  back.setAttribute('aria-pressed','true');
  back.style.pointerEvents = 'none';

  flippedCount++;
  if(flippedCount === 4){
    showBtn.classList.remove('hidden');
    showBtn.disabled = false;
    showBtn.removeAttribute('aria-disabled');
  }
}

// ===== Interactions =====
const startButton = document.getElementById('startReading');
startButton.addEventListener('click', ()=>{
  const q = (intentionIn.value||"").trim();
  if(!q.endsWith('?')){
    intentionIn.setCustomValidity("Veuillez formuler une question ouverte se terminant par « ? »");
    intentionIn.reportValidity();
    return;
  }
  document.getElementById('cardsInstruction')?.classList.remove('hidden');
  board.classList.remove('hidden');
  startButton.classList.add('hidden');
  const firstBack = board.querySelector('.card .back');
  if(firstBack) firstBack.focus();
});

document.querySelectorAll('.card .back').forEach(back=>{
  back.addEventListener('click', ()=> flipCard(back.closest('.card')));
  back.addEventListener('keydown', (e)=> { if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); flipCard(back.closest('.card')); }});
});

// ===== Résultats (PÈLERIN) =====
const polIcon = (p) => p==='yang'?'▲':'◯';

showBtn.addEventListener('click', ()=>{
  const { emotions: E, besoins: B, actions: A, cosmos: C } = drawn;
  if(!(E && B && A && C)) return;

  const intent = (intentionIn.value||"").trim();
  outIntent.textContent = intent || '—';

  // setBusy est défini globalement plus haut dans ta page
  setBusy(linesOut, true);
  setBusy(synthOut, true);

  linesOut.innerHTML = `
    <p><b>ÉMOTIONS :</b> ${E.name} (${polIcon(E.polarity)})<br><i>« ${E.quote} »</i></p>
    <p><b>BESOINS :</b> ${B.name} (${polIcon(B.polarity)})<br><i>« ${B.quote} »</i></p>
    <p><b>ACTIONS :</b> ${A.name} (${polIcon(A.polarity)})<br><i>« ${A.quote} »</i></p>
    <p><b>MÉMOIRES COSMOS :</b> ${C.name}<br><i>« ${C.quote} »</i></p>
  `.trim();

  synthOut.innerHTML = buildSynthesis(E,B,A,C,intent);

  results.classList.remove('hidden');
  results.scrollIntoView({behavior:'smooth', block:'start'});

  setBusy(linesOut, false);
  setBusy(synthOut, false);

  // Affiche actions bas
  document.getElementById('fullReading')?.classList.remove('hidden');
  resetBtn?.classList.remove('hidden');
});

// ===== Reset =====
resetBtn.addEventListener('click', ()=>{
  // État
  drawn = { emotions:null, besoins:null, actions:null, cosmos:null };
  flippedCount = 0;

  // UI cartes
  document.querySelectorAll('.card').forEach(card=>{
    card.classList.remove('flipped');
    const back  = card.querySelector('.back');
    const front = card.querySelector('.front');
    if(back){ back.style.pointerEvents=''; back.setAttribute('aria-pressed','false'); }
    front?.querySelector('[data-name]') && (front.querySelector('[data-name]').textContent = '—');
    front?.querySelector('[data-quote]') && (front.querySelector('[data-quote]').textContent = '—');
    const pol = front?.querySelector('[data-polarity]');
    if(pol){
      pol.textContent = '';
      pol.style.visibility = 'hidden';
      pol.removeAttribute('title'); pol.removeAttribute('aria-label');
      pol.classList.remove('is-triangle','is-cercle');
    }
  });

  // UI résultats
  linesOut.innerHTML = '';
  synthOut.innerHTML = '';
  results.classList.add('hidden');
  outIntent.textContent = '—';

  // Form & boutons
  startButton.classList.remove('hidden');
  showBtn.classList.add('hidden');
  showBtn.disabled = true;
  showBtn.setAttribute('aria-disabled','true');
  board.classList.add('hidden');
  document.getElementById('cardsInstruction')?.classList.add('hidden');

  // Intention
  intentionIn.value = '';
  intentionIn.setCustomValidity('');
  intentionIn.focus();
});

})();
</script>

<p style="border-radius: 8px; text-align: center; font-size: 12px; color: #fff; margin-top: 16px;position: fixed; left: 8px; bottom: 8px; z-index: 10; background: rgba(0, 0, 0, 0.8); padding: 4px 8px;">
  Made with
  <img src="https://enzostvs-deepsite.hf.space/logo.svg" alt="DeepSite Logo"
  width="16" height="16" decoding="async"
       style="width: 16px; height: 16px; vertical-align: middle; display:inline-block; margin-right:3px; filter:brightness(0) invert(1);">
  <a href="https://enzostvs-deepsite.hf.space"
     style="color: #fff; text-decoration: underline;"
     target="_blank" rel="noopener noreferrer">DeepSite</a>
  —
  🧬
  <a href="https://enzostvs-deepsite.hf.space?remix=Paddy22/site-oradia"
     style="color: #fff; text-decoration: underline;"
     target="_blank" rel="noopener noreferrer">Remix</a>
</p>

<script id="sanitize-forms">
document.addEventListener('DOMContentLoaded', () => {
  const sanitize = s => (s || '').replace(/[<>]/g, '').replace(/\s+/g, ' ').trim();

  const attach = (form) => {
    if (!form) return;
    form.addEventListener('submit', () => {
      // Nettoie seulement email/texte/textarea
      form.querySelectorAll('input[type="email"], input[type="text"], textarea')
        .forEach(i => { i.value = sanitize(i.value); });
    }, { capture: true });
  };

  ['memberLoginForm','memberRegisterForm','loginFormDashboard','traversee-form','orderForm']
    .forEach(id => attach(document.getElementById(id)));
});

document.addEventListener('DOMContentLoaded', () => {
  const i = document.getElementById('intention');
  if(!i) return;
  const long = "Ex. : Comment orienter ma journée avec justesse ?";
  const short = "Ex. : Comment orienter ma journée ?";
  const mq = window.matchMedia('(max-width: 400px)');
  const apply = () => i.placeholder = mq.matches ? short : long;
  apply(); mq.addEventListener?.('change', apply);
});
</script>
  ...
  </footer>

  <script id="scroll-spy">
<script id="scroll-spy">
document.addEventListener('DOMContentLoaded', () => {
  // 1) Tous les liens internes présents dans des <nav>
  const links = Array.from(document.querySelectorAll('nav a[href^="#"]'));

  // 2) Sections cibles existantes
  const sectionById = {};
  const sections = links
    .map(a => a.getAttribute('href').slice(1))
    .filter(Boolean)
    .map(id => document.getElementById(id))
    .filter(Boolean)
    .filter((sec) => (sectionById[sec.id] ? false : (sectionById[sec.id]=true))); // unique

  // Applique aria-current
  const setActive = (id) => {
    links.forEach(a => {
      const isActive = a.getAttribute('href') === `#${id}`;
      if (isActive) a.setAttribute('aria-current', 'page');
      else a.removeAttribute('aria-current');
    });
  };

  // 3) Observe la section “centrée” à l’écran
  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      // ignore les sections cachées (display:none)
      if (entry.isIntersecting && entry.target.offsetParent !== null) {
        setActive(entry.target.id);
      }
    });
  }, {
    rootMargin: '-40% 0px -60% 0px',
    threshold: 0.01
  });

  sections.forEach(sec => io.observe(sec));

  // 4) Activation immédiate au clic + scroll smooth
  links.forEach(a => {
    a.addEventListener('click', (e) => {
      const id = a.getAttribute('href').slice(1);
      const target = document.getElementById(id);
      if (!target) return;
      e.preventDefault();
      setActive(id);
      target.scrollIntoView({ behavior:'smooth', block:'start' });

      // (facultatif) si le menu mobile est ouvert, on le referme
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.add('hidden');
        const mobileBtn = document.getElementById('mobileMenuBtn');
        mobileBtn?.setAttribute('aria-expanded', 'false');
      }
      history.replaceState(null, '', `#${id}`);
    });
  });

  // 5) État initial (hash ou première section visible)
  const initialId = location.hash?.slice(1);
  if (initialId && document.getElementById(initialId)) {
    setActive(initialId);
  } else if (sections[0]) {
    setActive(sections[0].id);
  }
});
</script>

  </script>
<script id="scroll-spy" defer>
document.addEventListener('DOMContentLoaded', () => {
  const links = Array.from(document.querySelectorAll('nav a[href^="#"]'));
  if (!links.length) return;

  // Sections uniques réellement présentes
  const seen = new Set();
  const sections = links
    .map(a => a.getAttribute('href').slice(1))
    .filter(Boolean)
    .map(id => document.getElementById(id))
    .filter(Boolean)
    .filter(sec => (seen.has(sec.id) ? false : seen.add(sec.id)));

  const setActive = (id) => {
    links.forEach(a => {
      const active = a.getAttribute('href') === `#${id}`;
      if (active) a.setAttribute('aria-current', 'page');
      else a.removeAttribute('aria-current');
    });
  };

  // Observer “section au centre”
  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && entry.target.offsetParent !== null) {
        setActive(entry.target.id);
      }
    });
  }, { rootMargin: '-45% 0px -55% 0px', threshold: 0.01 });

  sections.forEach(sec => io.observe(sec));

  // Activation immédiate au clic + scroll doux
  links.forEach(a => {
    a.addEventListener('click', (e) => {
      const id = a.getAttribute('href').slice(1);
      const target = document.getElementById(id);
      if (!target) return;
      e.preventDefault();
      setActive(id);
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      // refermer le menu mobile s’il est ouvert
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.add('hidden');
        document.getElementById('mobileMenuBtn')?.setAttribute('aria-expanded','false');
      }
      history.replaceState(null, '', `#${id}`);
    });
  });

  // État initial
  const initial = location.hash?.slice(1);
  if (initial && document.getElementById(initial)) setActive(initial);
  else if (sections[0]) setActive(sections[0].id);
});
</script>
<script id="ui-wiring-fixes">
(() => {
  const $  = (s, r=document) => r.querySelector(s);
  const $$ = (s, r=document) => [...r.querySelectorAll(s)];

  // ---- NAV MOBILE
  const mobileBtn  = $('#mobileMenuBtn');
  const mobileMenu = $('#mobileMenu');
  if (mobileBtn && mobileMenu) {
    const toggle = () => {
      const open = mobileMenu.classList.toggle('hidden') === false;
      mobileBtn.setAttribute('aria-expanded', String(open));
    };
    mobileBtn.addEventListener('click', toggle);
    // fermer quand on clique un lien
    $$('#mobileMenu a').forEach(a => a.addEventListener('click', () => {
      if (!mobileMenu.classList.contains('hidden')) toggle();
    }));
    // fermer à ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) toggle();
    });
  }

  // ---- MODALES GÉNÉRIQUES (utilise tes helpers openModal/closeModal si présents)
  const hookModal = (openSel, modalSel, closeSel) => {
    const openEl = $(openSel), modal = $(modalSel), closeEl = $(closeSel);
    if (!modal) return;
    openEl?.addEventListener('click', (e) => { e.preventDefault?.(); openModal?.(modal); });
    closeEl?.addEventListener('click', () => closeModal?.(modal));
    // clic hors contenu pour fermer
    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal?.(modal);
    });
    // ESC pour fermer
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal?.(modal);
    });
  };

  // Commande & Abonnement & Login dashboard
  hookModal('#orderBtn', '#orderModal', '#closeOrder');
  hookModal('#subscribeBtn', '#subscriptionModal', '#closeSubscription');
  hookModal('#loginBtn', '#loginModal', '#closeLoginModal');
  hookModal('#footerLogin', '#loginModal', '#closeLoginModal');
  hookModal('#loginBtnMobile', '#loginModal', '#closeLoginModal');

  // ---- ABONNEMENT : TOGGLE LOGIN / REGISTER
  const subscriptionModal = $('#subscriptionModal');
  const memberLoginForm    = $('#memberLoginForm');
  const memberRegisterForm = $('#memberRegisterForm');
  const showRegisterLink   = $('#showRegister');
  const showLoginLink      = $('#showLogin');

  function showLogin() {
    if (!memberLoginForm || !memberRegisterForm) return;
    memberRegisterForm.classList.add('hidden');
    memberRegisterForm.setAttribute('aria-hidden','true');
    memberRegisterForm.setAttribute('inert','');

    memberLoginForm.classList.remove('hidden');
    memberLoginForm.setAttribute('aria-hidden','false');
    memberLoginForm.removeAttribute('inert');

    (memberLoginForm.querySelector('input,button,select,textarea') || memberLoginForm).focus();
  }
  function showRegister() {
    if (!memberLoginForm || !memberRegisterForm) return;
    memberLoginForm.classList.add('hidden');
    memberLoginForm.setAttribute('aria-hidden','true');
    memberLoginForm.setAttribute('inert','');

    memberRegisterForm.classList.remove('hidden');
    memberRegisterForm.setAttribute('aria-hidden','false');
    memberRegisterForm.removeAttribute('inert');

    (memberRegisterForm.querySelector('input,button,select,textarea') || memberRegisterForm).focus();
  }
  showRegisterLink?.addEventListener('click', (e)=>{ e.preventDefault(); showRegister(); });
  showLoginLink?.addEventListener('click', (e)=>{ e.preventDefault(); showLogin(); });

  // ---- DASHBOARD : OUVERTURE VIA MODALE LOGIN
  const loginModal = $('#loginModal');
  const loginFormDashboard = $('#loginFormDashboard');
  const dashboard = $('#dashboard');
  const logoutBtn = $('#logoutBtn');

  loginFormDashboard?.addEventListener('submit', (e) => {
    e.preventDefault();
    // ici tu brancheras ton vrai backend plus tard
    closeModal?.(loginModal);
    dashboard?.classList.remove('hidden');
    // focus accessibilité
    (dashboard?.querySelector('button, a, [tabindex], input, select, textarea') || dashboard)?.focus();
    // petite protection scroll
    document.body.style.overflow = 'hidden';
  });

  logoutBtn?.addEventListener('click', () => {
    dashboard?.classList.add('hidden');
    document.body.style.overflow = '';
  });

  // fermer dashboard à ESC
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && dashboard && !dashboard.classList.contains('hidden')) {
      dashboard.classList.add('hidden');
      document.body.style.overflow = '';
    }
  });

  // ---- ACCESSIBILITÉ : rôle/états cohérents si un bouton ouvre un menu/modale
  // (déjà bien géré chez toi ; on assure un état initial propre)
  if (mobileBtn && mobileMenu) mobileBtn.setAttribute('aria-expanded','false');

  // ---- FIN : si la ligne coupée existait, on s’assure que l’intention était bien de revenir au login
  // (sécurise le cas où ton ancien code se termine par "showLogin?.addEventListener...")
  if (subscriptionModal && memberLoginForm && memberRegisterForm) {
    // état par défaut : login visible
    showLogin();
  }
})();
</script>

</body>
</html>

</body>
</html>

<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('img[loading="lazy"]:not([fetchpriority])')
    .forEach(img => img.setAttribute('fetchpriority','low'));
});
  results.classList.remove('hidden');
  results.scrollIntoView({ behavior: 'smooth', block: 'start' });

  // état des boutons
  showBtn.classList.add('hidden');
  showBtn.disabled = true;
  showBtn.setAttribute('aria-disabled', 'true');

  resetBtn.classList.remove('hidden');
  document.getElementById('fullReading')?.classList.remove('hidden');
});

// ===== Reset =====
function resetAll(){
  drawn = { emotions:null, besoins:null, actions:null, cosmos:null };
  flippedCount = 0;

  // Masquer résultats + vider
  results.classList.add('hidden');
  linesOut.innerHTML = '';
  synthOut.innerHTML = '';
  outIntent.textContent = '—';

  // Boutons / instructions
  showBtn.classList.add('hidden');
  showBtn.disabled = true;
  showBtn.setAttribute('aria-disabled','true');
  resetBtn.classList.add('hidden');
  document.getElementById('fullReading')?.classList.add('hidden');
  document.getElementById('cardsInstruction')?.classList.add('hidden');

  // Réafficher "Commencer le tirage"
  const startBtn = document.getElementById('startReading');
  startBtn.classList.remove('hidden');

  // Réinitialiser les cartes
  board.querySelectorAll('.card').forEach(card=>{
    card.classList.remove('flipped');

    // back cliquable à nouveau
    const back = card.querySelector('.back');
    back.classList.remove('hidden');
    back.setAttribute('aria-pressed','false');
    back.style.pointerEvents = '';

    // nettoyer la face avant
    card.querySelector('[data-name]').textContent  = '—';
    card.querySelector('[data-quote]').textContent = '—';
    const pol = card.querySelector('[data-polarity]');
    if (pol){
      pol.style.visibility = '';
      pol.textContent = '';
      pol.removeAttribute('title');
      pol.removeAttribute('aria-label');
      pol.classList.remove('is-triangle','is-cercle');
    }
    card.querySelector('[data-bridge-quote]')?.remove();
    card.querySelector('[data-coin]')?.remove();
    card.querySelector('[data-bridge-badge]')?.remove();
  });

  // intention conservée : si tu préfères la vider, dé-commente la ligne suivante
 intentionIn.value = '';
}
resetBtn.addEventListener('click', resetAll);
})();
</script>

</script>
